{"version":3,"sources":["images/westore.svg","lib/importAll.tsx","initializers/index.tsx","lib/qrcode.js","_vars.scss","images/wepay.svg","images/alipay.svg","icons sync //.svg$","icons/add.svg","icons/cart.svg","icons/chart.svg","icons/edit.svg","icons/left.svg","icons/money.svg","icons/order.svg","icons/right.svg","icons/shop.svg","icons/tag.svg","icons/user.svg","icons/westore.svg","index.scss","../index).)*$","components/Icon.tsx","lib/history.tsx","components/Topbar.tsx","components/Layout.tsx","components/button/UnstyledButton.tsx","components/button/SizedButton.tsx","components/button/MainButton.tsx","components/Dialog.tsx","lib/HttpClient.tsx","components/Center.tsx","components/Space.tsx","views/Shops.styled.tsx","components/Img.tsx","components/Loading.tsx","components/Stretch.tsx","components/Padding.tsx","views/Shops.List.tsx","components/AdminNav.tsx","views/Shops.tsx","components/Input.tsx","lib/validate.tsx","components/button/MinorButton.tsx","components/InputError.tsx","components/Form.tsx","views/SignIn.styled.tsx","views/SignIn.tsx","hooks/useSendCodeButton.tsx","views/ShopNew.tsx","views/Shop.Layout.tsx","components/ShapedDiv.tsx","components/Money.tsx","components/Name.tsx","hooks/useShop.tsx","views/AdminShop.Tabs.tsx","views/AdminShop.tsx","components/button/DangerButton.tsx","components/Panel.tsx","views/AdminShopEdit.tsx","config.tsx","views/GoodNew.tsx","hooks/useGood.tsx","views/AdminGood.tsx","views/GoodEdit.tsx","hooks/useCart.tsx","lib/getAmount.tsx","components/GoodsList.tsx","components/OrderItem.tsx","components/Nav.tsx","views/Cart.tsx","views/Me.tsx","views/Shop.tsx","components/CartBar.tsx","views/Good.tsx","lib/getQuery.tsx","components/VSpace.tsx","views/OrderNew.tsx","views/Pay.tsx","lib/useOrders.tsx","maps/OrderStatus.tsx","views/Orders.tsx","views/AdminOrder.tsx","views/Order.tsx","views/AdminOrders.tsx","App.tsx","index.tsx"],"names":["module","exports","importAll","requireContext","keys","forEach","require","error","console","log","QRCode","QR8bitByte","data","this","mode","QRMode","MODE_8BIT_BYTE","parsedData","i","l","length","byteArray","code","charCodeAt","push","Array","prototype","concat","apply","unshift","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","buffer","write","put","addData","newData","isDark","row","col","Error","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","y","x","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","Math","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","type","qrCode","sameCount","count","darkCount","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","_getAndroid","android","sAgent","navigator","userAgent","aMat","toString","match","parseFloat","svgDrawer","Drawing","el","htOption","_el","_htOption","draw","oQRCode","nCount","width","height","makeSVG","tag","attrs","document","createElementNS","k","hasOwnProperty","setAttribute","clear","svg","String","colorLight","setAttributeNS","appendChild","colorDark","child","hasChildNodes","removeChild","lastChild","documentElement","tagName","toLowerCase","CanvasRenderingContext2D","nWidth","nHeight","aHTML","innerHTML","join","elTable","childNodes","nLeftMarginTable","offsetWidth","nTopMarginTable","offsetHeight","style","margin","_onMakeImage","_elImage","src","_elCanvas","toDataURL","display","_safeSetDataURI","fSuccess","fFail","self","_fFail","_fSuccess","_bSupportDataURI","createElement","fOnError","call","onabort","onerror","onload","_bIsPainted","_android","_oContext","getContext","alt","nRoundedWidth","round","nRoundedHeight","bIsDark","nLeft","nTop","strokeStyle","lineWidth","fillStyle","fillRect","strokeRect","ceil","makeImage","isPainted","clearRect","nNumber","_getTypeNumber","sText","nCorrectLevel","nType","replacedText","encodeURI","replace","_getUTF8Length","len","nLimit","vOption","correctLevel","text","getElementById","useSVG","_oQRCode","_oDrawing","makeCode","title","CorrectLevel","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Object","resolve","symbol","add","Icon","props","name","children","className","rest","cs","xlinkHref","defaultProps","fill","history","createHashHistory","_pathnameBeforeSignIn","window","localStorage","getItem","pathnameBeforeSignIn","defineProperty","value","set","v","setItem","Wrapper","styled","div","vars","colorBorder","heightHeader","Placeholder","goBack","pathname","location","backs","key","route","matchPath","path","exact","capture","params","Action","Topbar","hasBack","onClick","action","Main","Footer","footer","Layout","UnstyledButton","forwardRef","ref","outerOnClick","outerDisabled","disabled","badge","size","autoDisable","autoDisableDuration","timers","useRef","needCancelDisable","useState","setDisabled","useEffect","current","timersRef","clearTimeout","setTimeout","SizedButton","colorDanger","MainButton","borderRadius","colorMain","Mask","Header","header","Dialog","visible","ReactDOM","createPortal","mask","buttons","container","body","closeOnClick","latestAlert","showAlert","content","callback","close","onClose","unmountComponentAtNode","remove","render","React","mount","addEventListener","createModal","unlisten","listen","defaultHttpClient","baseUrl","handleError","client","axios","create","baseURL","timeout","headers","withCredentials","testMock","options","method","url","autoHandlerError","config","post","patch","delete","then","Promise","reject","ajax","hostname","isAxiosError","response","status","Center","Space","Item","heightItem","Img","fallbackSrc","_src","setSrc","onError","westore","Loading","Stretch","Padding","List","useSWRPages","withSWR","swr","pageNum","pageSize","shop","to","imgUrl","SWR","totalPage","pages","loadMore","isReachingEnd","isEmpty","isLoadingMore","NavWrapper","nav","AdminNav","activeClassName","Shops","Label","label","StyledInput","input","Span","span","Input","translation","builtinValidators","required","message","string","min","Infinity","format","RegExp","validate","formData","rules","errors","rulesForValue","rule","entries","ruleName","includes","isBuiltinRuleName","flat","all","values","reduce","object","MinorButton","InputError","Form","form","F","defaultData","_data","_setData","setErrors","getData","getValue","transform","out","submit","preventDefault","fields","field","onSubmit","FormRow","onChange","fn","item","in","patchData","target","Logo","SignIn","tel","setFormData","sendCode","countDown","setCountDown","timer","codeSent","setCodeSent","setInterval","clearInterval","sendCodeButton","useSendCodeButton","placeholder","MyForm","ShopNew","description","setShop","Summary","colorText3","ShopLayout","withRouter","ShapedDiv","paddingTop","Unit","numberToMoney","number","toFixed","moneyToNumber","money","Money","parseInt","Number","isNaN","toHuman","Name","h3","useShop","useSWR","mutate","ol","heightTab","Tabs","Link","AdminShop","shopId","good","price","DangerButton","Panel","QRCodeWrapper","AdminShopEdit","qrcodeRef","qrcode","updateShop","deleteShop","GoodNew","stock","s","useGood","Cover","Price","p","AdminGood","cover","details","GoodEdit","goodId","useCart","cart","isValidating","updateShopCart","goods","findIndex","slice","getAmount","sum","GoodsList","OrderItem","Nav","Amount","Remove","Cart","edit","setEdit","g","Me","login","user","signOut","readOnly","Shop","colorShadow","CartBar","button","setCount","isAnimating","addToCart","useCallback","from","found","filter","getBoundingClientRect","left","top","clone","cloneNode","assign","position","transition","transformOrigin","zIndex","left2","top2","width2","height2","deltaX","deltaY","after","removeEventListener","element","Good","HashQuery","query","URLSearchParams","search","VSpace","OrderNew","address","contact","shopAndGoods","find","pay","Payments","Pay","orderId","fakePay","wepay","alipay","useOrders","order","orderStatusMap","Status","Orders","orders","AdminOrder","updateExpress","expressCompany","expressId","iso","day","Order","AdminOrders","App","shouldRetryOnError","swrMutate","swrCache","cache"],"mappings":"sFAAAA,EAAOC,QAAU,IAA0B,qC,gCCA3C,kCAAO,IAAIC,EAAY,SAACC,GAAD,OAAuDA,EAAeC,OAAOC,QAAQF,K,gCCA5G,mBAEA,IAAKD,YAAUI,OAA4D,MAAOC,GAAQC,QAAQC,IAAIF,K,iBCStG,IAAIG,EAiBJ,SAASC,EAAWC,GAClBC,KAAKC,KAAOC,EAAOC,eACnBH,KAAKD,KAAOA,EACZC,KAAKI,WAAa,GAGlB,IAAK,IAAIC,EAAI,EAAGC,EAAIN,KAAKD,KAAKQ,OAAQF,EAAIC,EAAGD,IAAK,CAChD,IAAIG,EAAY,GACZC,EAAOT,KAAKD,KAAKW,WAAWL,GAE5BI,EAAO,OACTD,EAAU,GAAK,KAAgB,QAAPC,KAAqB,GAC7CD,EAAU,GAAK,KAAgB,OAAPC,KAAoB,GAC5CD,EAAU,GAAK,KAAgB,KAAPC,KAAkB,EAC1CD,EAAU,GAAK,IAAe,GAAPC,GACdA,EAAO,MAChBD,EAAU,GAAK,KAAgB,MAAPC,KAAmB,GAC3CD,EAAU,GAAK,KAAgB,KAAPC,KAAkB,EAC1CD,EAAU,GAAK,IAAe,GAAPC,GACdA,EAAO,KAChBD,EAAU,GAAK,KAAgB,KAAPC,KAAkB,EAC1CD,EAAU,GAAK,IAAe,GAAPC,GAEvBD,EAAU,GAAKC,EAGjBT,KAAKI,WAAWO,KAAKH,GAGvBR,KAAKI,WAAaQ,MAAMC,UAAUC,OAAOC,MAAM,GAAIf,KAAKI,YAEpDJ,KAAKI,WAAWG,QAAUP,KAAKD,KAAKQ,SACtCP,KAAKI,WAAWY,QAAQ,KACxBhB,KAAKI,WAAWY,QAAQ,KACxBhB,KAAKI,WAAWY,QAAQ,MAe5B,SAASC,EAAYC,EAAYC,GAC/BnB,KAAKkB,WAAaA,EAClBlB,KAAKmB,kBAAoBA,EACzBnB,KAAKoB,QAAU,KACfpB,KAAKqB,YAAc,EACnBrB,KAAKsB,UAAY,KACjBtB,KAAKuB,SAAW,GAjBlBzB,EAAWe,UAAY,CACrBW,UAAW,SAAUC,GACnB,OAAOzB,KAAKI,WAAWG,QAEzBmB,MAAO,SAAUD,GACf,IAAK,IAAIpB,EAAI,EAAGC,EAAIN,KAAKI,WAAWG,OAAQF,EAAIC,EAAGD,IACjDoB,EAAOE,IAAI3B,KAAKI,WAAWC,GAAI,KAcrCY,EAAYJ,UAAY,CACtBe,QAAS,SAAU7B,GACjB,IAAI8B,EAAU,IAAI/B,EAAWC,GAC7BC,KAAKuB,SAASZ,KAAKkB,GACnB7B,KAAKsB,UAAY,MAEnBQ,OAAQ,SAAUC,EAAKC,GACrB,GAAID,EAAM,GAAK/B,KAAKqB,aAAeU,GAAOC,EAAM,GAAKhC,KAAKqB,aAAeW,EAAM,MAAM,IAAIC,MAAMF,EAAM,IAAMC,GAC3G,OAAOhC,KAAKoB,QAAQW,GAAKC,IAE3BE,eAAgB,WAAa,OAAOlC,KAAKqB,aACzCc,KAAM,WAAanC,KAAKoC,UAAS,EAAOpC,KAAKqC,uBAC7CD,SAAU,SAAUE,EAAMC,GACxBvC,KAAKqB,YAAgC,EAAlBrB,KAAKkB,WAAiB,GACzClB,KAAKoB,QAAU,IAAIR,MAAMZ,KAAKqB,aAC9B,IAAK,IAAIU,EAAM,EAAGA,EAAM/B,KAAKqB,YAAaU,IAAO,CAC/C/B,KAAKoB,QAAQW,GAAO,IAAInB,MAAMZ,KAAKqB,aACnC,IAAK,IAAIW,EAAM,EAAGA,EAAMhC,KAAKqB,YAAaW,IAAQhC,KAAKoB,QAAQW,GAAKC,GAAO,KAE7EhC,KAAKwC,0BAA0B,EAAG,GAClCxC,KAAKwC,0BAA0BxC,KAAKqB,YAAc,EAAG,GACrDrB,KAAKwC,0BAA0B,EAAGxC,KAAKqB,YAAc,GACrDrB,KAAKyC,6BACLzC,KAAK0C,qBACL1C,KAAK2C,cAAcL,EAAMC,GACrBvC,KAAKkB,YAAc,GAAIlB,KAAK4C,gBAAgBN,GAC1B,MAAlBtC,KAAKsB,YAAoBtB,KAAKsB,UAAYL,EAAY4B,WAAW7C,KAAKkB,WAAYlB,KAAKmB,kBAAmBnB,KAAKuB,WACnHvB,KAAK8C,QAAQ9C,KAAKsB,UAAWiB,IAE/BC,0BAA2B,SAAUT,EAAKC,GACxC,IAAK,IAAIe,GAAK,EAAGA,GAAK,EAAGA,IACvB,KAAIhB,EAAMgB,IAAM,GAAK/C,KAAKqB,aAAeU,EAAMgB,GAC/C,IAAK,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACnBhB,EAAMgB,IAAM,GAAKhD,KAAKqB,aAAeW,EAAMgB,IACsFhD,KAAKoB,QAAQW,EAAMgB,GAAGf,EAAMgB,GAA5J,GAAKD,GAAKA,GAAK,IAAW,GAALC,GAAe,GAALA,IAAa,GAAKA,GAAKA,GAAK,IAAW,GAALD,GAAe,GAALA,IAAa,GAAKA,GAAKA,GAAK,GAAK,GAAKC,GAAKA,GAAK,IAItIX,mBAAoB,WAGlB,IAFA,IAAIY,EAAe,EACfC,EAAU,EACL7C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BL,KAAKoC,UAAS,EAAM/B,GACpB,IAAI8C,EAAYC,EAAOC,aAAarD,OAC3B,GAALK,GAAU4C,EAAeE,KAC3BF,EAAeE,EACfD,EAAU7C,GAGd,OAAO6C,GAETI,gBAAiB,SAAUC,EAAWC,EAAeC,GACnD,IAAIC,EAAQH,EAAUI,qBAAqBH,EAAeC,GAE1DzD,KAAKmC,OACL,IAAK,IAAIJ,EAAM,EAAGA,EAAM/B,KAAKoB,QAAQb,OAAQwB,IAE3C,IADA,IAAI6B,EAHG,EAGC7B,EACCC,EAAM,EAAGA,EAAMhC,KAAKoB,QAAQW,GAAKxB,OAAQyB,IAAO,CACvD,IAAI6B,EALC,EAKG7B,EACGhC,KAAKoB,QAAQW,GAAKC,KAE3B0B,EAAMI,UAAU,EAAG,KACnBJ,EAAMK,OAAOF,EAAGD,GAChBF,EAAMM,OAAOH,EAVV,EAUkBD,GACrBF,EAAMM,OAAOH,EAXV,EAWkBD,EAXlB,GAYHF,EAAMM,OAAOH,EAAGD,EAZb,GAaHF,EAAMO,WAIZ,OAAOP,GAEThB,mBAAoB,WAClB,IAAK,IAAIK,EAAI,EAAGA,EAAI/C,KAAKqB,YAAc,EAAG0B,IACd,MAAtB/C,KAAKoB,QAAQ2B,GAAG,KACpB/C,KAAKoB,QAAQ2B,GAAG,GAAMA,EAAI,GAAK,GAEjC,IAAK,IAAIC,EAAI,EAAGA,EAAIhD,KAAKqB,YAAc,EAAG2B,IACd,MAAtBhD,KAAKoB,QAAQ,GAAG4B,KACpBhD,KAAKoB,QAAQ,GAAG4B,GAAMA,EAAI,GAAK,IAGnCP,2BAA4B,WAE1B,IADA,IAAIyB,EAAMd,EAAOe,mBAAmBnE,KAAKkB,YAChCb,EAAI,EAAGA,EAAI6D,EAAI3D,OAAQF,IAC9B,IAAK,IAAI+D,EAAI,EAAGA,EAAIF,EAAI3D,OAAQ6D,IAAK,CACnC,IAAIrC,EAAMmC,EAAI7D,GACV2B,EAAMkC,EAAIE,GACd,GAA8B,MAA1BpE,KAAKoB,QAAQW,GAAKC,GACtB,IAAK,IAAIe,GAAK,EAAGA,GAAK,EAAGA,IAAM,IAAK,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IAAyEhD,KAAKoB,QAAQW,EAAMgB,GAAGf,EAAMgB,IAArF,GAAND,GAAgB,GAALA,IAAgB,GAANC,GAAgB,GAALA,GAAgB,GAALD,GAAe,GAALC,IAI7HJ,gBAAiB,SAAUN,GAEzB,IADA,IAAI+B,EAAOjB,EAAOkB,iBAAiBtE,KAAKkB,YAC/Bb,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAIkE,GAAQjC,GAA6B,IAAnB+B,GAAQhE,EAAK,GACnCL,KAAKoB,QAAQoD,KAAKC,MAAMpE,EAAI,IAAIA,EAAI,EAAIL,KAAKqB,YAAc,EAAI,GAAKkD,EAEtE,IAASlE,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvBkE,GAAQjC,GAA6B,IAAnB+B,GAAQhE,EAAK,GACnCL,KAAKoB,QAAQf,EAAI,EAAIL,KAAKqB,YAAc,EAAI,GAAGmD,KAAKC,MAAMpE,EAAI,IAAMkE,IAGxE5B,cAAe,SAAUL,EAAMC,GAG7B,IAFA,IAAIxC,EAAQC,KAAKmB,mBAAqB,EAAKoB,EACvC8B,EAAOjB,EAAOsB,eAAe3E,GACxBM,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAIkE,GAAQjC,GAA6B,IAAnB+B,GAAQhE,EAAK,GAC/BA,EAAI,EAAIL,KAAKoB,QAAQf,GAAG,GAAKkE,EAAclE,EAAI,EAAIL,KAAKoB,QAAQf,EAAI,GAAG,GAAKkE,EAAWvE,KAAKoB,QAAQpB,KAAKqB,YAAc,GAAKhB,GAAG,GAAKkE,EAE1I,IAASlE,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvBkE,GAAQjC,GAA6B,IAAnB+B,GAAQhE,EAAK,GAC/BA,EAAI,EAAIL,KAAKoB,QAAQ,GAAGpB,KAAKqB,YAAchB,EAAI,GAAKkE,EAAclE,EAAI,EAAIL,KAAKoB,QAAQ,GAAG,GAAKf,EAAI,EAAI,GAAKkE,EAAWvE,KAAKoB,QAAQ,GAAG,GAAKf,EAAI,GAAKkE,EAE3JvE,KAAKoB,QAAQpB,KAAKqB,YAAc,GAAG,IAAOiB,GAE5CQ,QAAS,SAAU/C,EAAMwC,GAKvB,IAJA,IAAIoC,GAAO,EACP5C,EAAM/B,KAAKqB,YAAc,EACzBuD,EAAW,EACXC,EAAY,EACP7C,EAAMhC,KAAKqB,YAAc,EAAGW,EAAM,EAAGA,GAAO,EAEnD,IADW,GAAPA,GAAUA,MACD,CACX,IAAK,IAAIgB,EAAI,EAAGA,EAAI,EAAGA,IACrB,GAAkC,MAA9BhD,KAAKoB,QAAQW,GAAKC,EAAMgB,GAAY,CACtC,IAAI8B,GAAO,EACPD,EAAY9E,EAAKQ,SAASuE,EAAgD,IAAtC/E,EAAK8E,KAAeD,EAAY,IAC7DxB,EAAO2B,QAAQxC,EAAaR,EAAKC,EAAMgB,KACvC8B,GAAQA,GACnB9E,KAAKoB,QAAQW,GAAKC,EAAMgB,GAAK8B,GAEZ,KADjBF,IAEEC,IACAD,EAAW,GAKjB,IADA7C,GAAO4C,GACG,GAAK3E,KAAKqB,aAAeU,EAAK,CACtCA,GAAO4C,EACPA,GAAOA,EACP,UAMV1D,EAAY+D,KAAO,IACnB/D,EAAYgE,KAAO,GACnBhE,EAAY4B,WAAa,SAAU3B,EAAYC,EAAmBI,GAGhE,IAFA,IAAI2D,EAAWC,EAAUC,YAAYlE,EAAYC,GAC7CM,EAAS,IAAI4D,EACRhF,EAAI,EAAGA,EAAIkB,EAAShB,OAAQF,IAAK,CACxC,IAAIN,EAAOwB,EAASlB,GACpBoB,EAAOE,IAAI5B,EAAKE,KAAM,GACtBwB,EAAOE,IAAI5B,EAAKyB,YAAa4B,EAAOkC,gBAAgBvF,EAAKE,KAAMiB,IAC/DnB,EAAK2B,MAAMD,GAEb,IAAI8D,EAAiB,EACrB,IAASlF,EAAI,EAAGA,EAAI6E,EAAS3E,OAAQF,IAAMkF,GAAkBL,EAAS7E,GAAGmF,UACzE,GAAI/D,EAAO6D,kBAAqC,EAAjBC,EAC7B,MAAM,IAAItD,MAAM,0BACZR,EAAO6D,kBACP,IACiB,EAAjBC,EACA,KAGN,IADI9D,EAAO6D,kBAAoB,GAAsB,EAAjBC,GAAqB9D,EAAOE,IAAI,EAAG,GAChEF,EAAO6D,kBAAoB,GAAK,GAAI7D,EAAOgE,QAAO,GACzD,OACMhE,EAAO6D,mBAAsC,EAAjBC,KAChC9D,EAAOE,IAAIV,EAAY+D,KAAM,KACzBvD,EAAO6D,mBAAsC,EAAjBC,KAChC9D,EAAOE,IAAIV,EAAYgE,KAAM,GAE/B,OAAOhE,EAAYyE,YAAYjE,EAAQyD,IAEzCjE,EAAYyE,YAAc,SAAUjE,EAAQyD,GAM1C,IALA,IAAIS,EAAS,EACTC,EAAa,EACbC,EAAa,EACbC,EAAS,IAAIlF,MAAMsE,EAAS3E,QAC5BwF,EAAS,IAAInF,MAAMsE,EAAS3E,QACvBwC,EAAI,EAAGA,EAAImC,EAAS3E,OAAQwC,IAAK,CACxC,IAAIiD,EAAUd,EAASnC,GAAGyC,UACtBS,EAAUf,EAASnC,GAAGmD,WAAaF,EACvCJ,EAAapB,KAAK2B,IAAIP,EAAYI,GAClCH,EAAarB,KAAK2B,IAAIN,EAAYI,GAClCH,EAAO/C,GAAK,IAAInC,MAAMoF,GACtB,IAAK,IAAI3F,EAAI,EAAGA,EAAIyF,EAAO/C,GAAGxC,OAAQF,IAAMyF,EAAO/C,GAAG1C,GAAK,IAAOoB,EAAOA,OAAOpB,EAAIsF,GACpFA,GAAUK,EACV,IAAII,EAAShD,EAAOiD,0BAA0BJ,GAE1CK,EADU,IAAIC,EAAaT,EAAO/C,GAAIqD,EAAO5E,YAAc,GACzC+C,IAAI6B,GAC1BL,EAAOhD,GAAK,IAAInC,MAAMwF,EAAO5E,YAAc,GAC3C,IAASnB,EAAI,EAAGA,EAAI0F,EAAOhD,GAAGxC,OAAQF,IAAK,CACzC,IAAImG,EAAWnG,EAAIiG,EAAQ9E,YAAcuE,EAAOhD,GAAGxC,OACnDwF,EAAOhD,GAAG1C,GAAMmG,GAAY,EAAKF,EAAQG,IAAID,GAAY,GAG7D,IAAIE,EAAiB,EACrB,IAASrG,EAAI,EAAGA,EAAI6E,EAAS3E,OAAQF,IAAMqG,GAAkBxB,EAAS7E,GAAG6F,WACzE,IAAInG,EAAO,IAAIa,MAAM8F,GACjBC,EAAQ,EACZ,IAAStG,EAAI,EAAGA,EAAIuF,EAAYvF,IAAM,IAAS0C,EAAI,EAAGA,EAAImC,EAAS3E,OAAQwC,IAAU1C,EAAIyF,EAAO/C,GAAGxC,SAASR,EAAK4G,KAAWb,EAAO/C,GAAG1C,IACtI,IAASA,EAAI,EAAGA,EAAIwF,EAAYxF,IAAM,IAAS0C,EAAI,EAAGA,EAAImC,EAAS3E,OAAQwC,IAAU1C,EAAI0F,EAAOhD,GAAGxC,SAASR,EAAK4G,KAAWZ,EAAOhD,GAAG1C,IACtI,OAAON,GA0JT,IAxJA,IAAIG,EAAS,CAAC0G,YAAa,EAAQC,eAAgB,EAAQ1G,eAAgB,EAAQ2G,WAAY,GAC3FC,EAAsB,CAACC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC5CC,EACU,EADVA,EAEU,EAFVA,EAGU,EAHVA,EAIU,EAJVA,EAKU,EALVA,EAMU,EANVA,EAOU,EAPVA,EAQU,EAEVhE,EAAS,CACXiE,uBAAwB,CAAC,GAAI,CAAC,EAAG,IAAK,CAAC,EAAG,IAAK,CAAC,EAAG,IAAK,CAAC,EAAG,IAAK,CAAC,EAAG,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,MAC1yBC,IAAM,KACNC,IAAM,KACNC,SAAW,MACX9C,eAAgB,SAAU3E,GAExB,IADA,IAAI0H,EAAI1H,GAAQ,GACTqD,EAAOsE,YAAYD,GAAKrE,EAAOsE,YAAYtE,EAAOkE,MAAQ,GAAIG,GAAMrE,EAAOkE,KAAQlE,EAAOsE,YAAYD,GAAKrE,EAAOsE,YAAYtE,EAAOkE,KAC5I,OAASvH,GAAQ,GAAM0H,GAAKrE,EAAOoE,UAErClD,iBAAkB,SAAUvE,GAE1B,IADA,IAAI0H,EAAI1H,GAAQ,GACTqD,EAAOsE,YAAYD,GAAKrE,EAAOsE,YAAYtE,EAAOmE,MAAQ,GAAIE,GAAMrE,EAAOmE,KAAQnE,EAAOsE,YAAYD,GAAKrE,EAAOsE,YAAYtE,EAAOmE,KAC5I,OAAQxH,GAAQ,GAAM0H,GAExBC,YAAa,SAAU3H,GAErB,IADA,IAAI4H,EAAQ,EACG,GAAR5H,GACL4H,IACA5H,KAAU,EAEZ,OAAO4H,GAETxD,mBAAoB,SAAUjD,GAAa,OAAOkC,EAAOiE,uBAAuBnG,EAAa,IAC7F6D,QAAS,SAAUxC,EAAalC,EAAG+D,GACjC,OAAQ7B,GACN,KAAK6E,EACH,OAAQ/G,EAAI+D,GAAK,GAAK,EACxB,KAAKgD,EACH,OAAO/G,EAAI,GAAK,EAClB,KAAK+G,EACH,OAAOhD,EAAI,GAAK,EAClB,KAAKgD,EACH,OAAQ/G,EAAI+D,GAAK,GAAK,EACxB,KAAKgD,EACH,OAAQ5C,KAAKC,MAAMpE,EAAI,GAAKmE,KAAKC,MAAML,EAAI,IAAM,GAAK,EACxD,KAAKgD,EACH,OAAQ/G,EAAI+D,EAAK,EAAK/D,EAAI+D,EAAK,GAAK,EACtC,KAAKgD,EACH,OAAS/G,EAAI+D,EAAK,EAAK/D,EAAI+D,EAAK,GAAK,GAAK,EAC5C,KAAKgD,EACH,OAAS/G,EAAI+D,EAAK,GAAK/D,EAAI+D,GAAK,GAAK,GAAK,EAC5C,QACE,MAAM,IAAInC,MAAM,mBAAqBM,KAG3C8D,0BAA2B,SAAUuB,GAEnC,IADA,IAAIC,EAAI,IAAItB,EAAa,CAAC,GAAI,GACrBlG,EAAI,EAAGA,EAAIuH,EAAoBvH,IAAMwH,EAAIA,EAAEC,SAAS,IAAIvB,EAAa,CAAC,EAAGwB,EAAOC,KAAK3H,IAAK,IACnG,OAAOwH,GAETvC,gBAAiB,SAAUrF,EAAMgI,GAC/B,GAAI,GAAKA,GAAQA,EAAO,GACtB,OAAQhI,GACN,KAAKC,EAAO0G,YACV,OAAO,GACT,KAAK1G,EAAO2G,eACV,OAAO,EACT,KAAK3G,EAAOC,eAEZ,KAAKD,EAAO4G,WACV,OAAO,EACT,QACE,MAAM,IAAI7E,MAAM,QAAUhC,QAEzB,GAAIgI,EAAO,GAChB,OAAQhI,GACN,KAAKC,EAAO0G,YACV,OAAO,GACT,KAAK1G,EAAO2G,eACV,OAAO,GACT,KAAK3G,EAAOC,eACV,OAAO,GACT,KAAKD,EAAO4G,WACV,OAAO,GACT,QACE,MAAM,IAAI7E,MAAM,QAAUhC,OAEzB,MAAIgI,EAAO,IAaV,MAAM,IAAIhG,MAAM,QAAUgG,GAZhC,OAAQhI,GACN,KAAKC,EAAO0G,YACV,OAAO,GACT,KAAK1G,EAAO2G,eACV,OAAO,GACT,KAAK3G,EAAOC,eACV,OAAO,GACT,KAAKD,EAAO4G,WACV,OAAO,GACT,QACE,MAAM,IAAI7E,MAAM,QAAUhC,MAIlCoD,aAAc,SAAU6E,GAGtB,IAFA,IAAI7G,EAAc6G,EAAOhG,iBACrBiB,EAAY,EACPpB,EAAM,EAAGA,EAAMV,EAAaU,IACnC,IAAK,IAAIC,EAAM,EAAGA,EAAMX,EAAaW,IAAO,CAG1C,IAFA,IAAImG,EAAY,EACZrD,EAAOoD,EAAOpG,OAAOC,EAAKC,GACrBe,GAAK,EAAGA,GAAK,EAAGA,IACvB,KAAIhB,EAAMgB,EAAI,GAAK1B,GAAeU,EAAMgB,GACxC,IAAK,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACnBhB,EAAMgB,EAAI,GAAK3B,GAAeW,EAAMgB,GAC/B,GAALD,GAAe,GAALC,GACV8B,GAAQoD,EAAOpG,OAAOC,EAAMgB,EAAGf,EAAMgB,IAAKmF,IAG9CA,EAAY,IAAIhF,GAAc,EAAIgF,EAAY,GAGtD,IAASpG,EAAM,EAAGA,EAAMV,EAAc,EAAGU,IACvC,IAASC,EAAM,EAAGA,EAAMX,EAAc,EAAGW,IAAO,CAC9C,IAAIoG,EAAQ,EACRF,EAAOpG,OAAOC,EAAKC,IAAMoG,IACzBF,EAAOpG,OAAOC,EAAM,EAAGC,IAAMoG,IAC7BF,EAAOpG,OAAOC,EAAKC,EAAM,IAAIoG,IAC7BF,EAAOpG,OAAOC,EAAM,EAAGC,EAAM,IAAIoG,IACxB,GAATA,GAAuB,GAATA,IAAajF,GAAa,GAGhD,IAASpB,EAAM,EAAGA,EAAMV,EAAaU,IAAQ,IAASC,EAAM,EAAGA,EAAMX,EAAc,EAAGW,IAAYkG,EAAOpG,OAAOC,EAAKC,KAASkG,EAAOpG,OAAOC,EAAKC,EAAM,IAAMkG,EAAOpG,OAAOC,EAAKC,EAAM,IAAMkG,EAAOpG,OAAOC,EAAKC,EAAM,IAAMkG,EAAOpG,OAAOC,EAAKC,EAAM,KAAOkG,EAAOpG,OAAOC,EAAKC,EAAM,IAAMkG,EAAOpG,OAAOC,EAAKC,EAAM,KAAKmB,GAAa,IACrU,IAASnB,EAAM,EAAGA,EAAMX,EAAaW,IAAQ,IAASD,EAAM,EAAGA,EAAMV,EAAc,EAAGU,IAAYmG,EAAOpG,OAAOC,EAAKC,KAASkG,EAAOpG,OAAOC,EAAM,EAAGC,IAAQkG,EAAOpG,OAAOC,EAAM,EAAGC,IAAQkG,EAAOpG,OAAOC,EAAM,EAAGC,IAAQkG,EAAOpG,OAAOC,EAAM,EAAGC,KAASkG,EAAOpG,OAAOC,EAAM,EAAGC,IAAQkG,EAAOpG,OAAOC,EAAM,EAAGC,KAAOmB,GAAa,IACrU,IAAIkF,EAAY,EAChB,IAASrG,EAAM,EAAGA,EAAMX,EAAaW,IAAQ,IAASD,EAAM,EAAGA,EAAMV,EAAaU,IAAYmG,EAAOpG,OAAOC,EAAKC,IAAOqG,IAGxH,OADAlF,GAAqB,IADTqB,KAAK8D,IAAI,IAAMD,EAAYhH,EAAcA,EAAc,IAAM,KAKzE0G,EAAS,CACXQ,KAAM,SAAUC,GACd,GAAIA,EAAI,EAAI,MAAM,IAAIvG,MAAM,QAAUuG,EAAI,KAC1C,OAAOT,EAAOU,UAAUD,IACvBR,KAAM,SAAUQ,GACjB,KAAOA,EAAI,GAAIA,GAAK,IACpB,KAAOA,GAAK,KAAMA,GAAK,IACvB,OAAOT,EAAOW,UAAUF,IACvBE,UAAW,IAAI9H,MAAM,KAAM6H,UAAW,IAAI7H,MAAM,MAE5CP,EAAI,EAAGA,EAAI,EAAGA,IAAM0H,EAAOW,UAAUrI,GAAK,GAAKA,EACxD,IAASA,EAAI,EAAGA,EAAI,IAAKA,IAAM0H,EAAOW,UAAUrI,GAAK0H,EAAOW,UAAUrI,EAAI,GAAK0H,EAAOW,UAAUrI,EAAI,GAAK0H,EAAOW,UAAUrI,EAAI,GAAK0H,EAAOW,UAAUrI,EAAI,GACxJ,IAASA,EAAI,EAAGA,EAAI,IAAKA,IAAM0H,EAAOU,UAAUV,EAAOW,UAAUrI,IAAMA,EAEvE,SAASkG,EAAaoC,EAAKC,GACzB,QAAkBC,GAAdF,EAAIpI,OAAsB,MAAM,IAAI0B,MAAM0G,EAAIpI,OAAS,IAAMqI,GAEjE,IADA,IAAIjD,EAAS,EACNA,EAASgD,EAAIpI,QAAyB,GAAfoI,EAAIhD,IAAeA,IACjD3F,KAAK2I,IAAM,IAAI/H,MAAM+H,EAAIpI,OAASoF,EAASiD,GAC3C,IAAK,IAAIvI,EAAI,EAAGA,EAAIsI,EAAIpI,OAASoF,EAAQtF,IAAML,KAAK2I,IAAItI,GAAKsI,EAAItI,EAAIsF,GAqBvE,SAASR,EAAUe,EAAYV,GAC7BxF,KAAKkG,WAAaA,EAClBlG,KAAKwF,UAAYA,EAgCnB,SAASH,IACPrF,KAAKyB,OAAS,GACdzB,KAAKO,OAAS,EAtDhBgG,EAAa1F,UAAY,CACvB4F,IAAK,SAAUE,GAAQ,OAAO3G,KAAK2I,IAAIhC,IACvCnF,UAAW,WAAa,OAAOxB,KAAK2I,IAAIpI,QACxCuH,SAAU,SAAUgB,GAElB,IADA,IAAIH,EAAM,IAAI/H,MAAMZ,KAAKwB,YAAcsH,EAAEtH,YAAc,GAC9CnB,EAAI,EAAGA,EAAIL,KAAKwB,YAAanB,IAAM,IAAK,IAAI+D,EAAI,EAAGA,EAAI0E,EAAEtH,YAAa4C,IAAMuE,EAAItI,EAAI+D,IAAM2D,EAAOC,KAAKD,EAAOQ,KAAKvI,KAAKyG,IAAIpG,IAAM0H,EAAOQ,KAAKO,EAAErC,IAAIrC,KAC5J,OAAO,IAAImC,EAAaoC,EAAK,IAE/BpE,IAAK,SAAUuE,GACb,GAAI9I,KAAKwB,YAAcsH,EAAEtH,YAAc,EAAI,OAAOxB,KAGlD,IAFA,IAAI+I,EAAQhB,EAAOQ,KAAKvI,KAAKyG,IAAI,IAAMsB,EAAOQ,KAAKO,EAAErC,IAAI,IACrDkC,EAAM,IAAI/H,MAAMZ,KAAKwB,aAChBnB,EAAI,EAAGA,EAAIL,KAAKwB,YAAanB,IAAMsI,EAAItI,GAAKL,KAAKyG,IAAIpG,GAC9D,IAASA,EAAI,EAAGA,EAAIyI,EAAEtH,YAAanB,IAAMsI,EAAItI,IAAM0H,EAAOC,KAAKD,EAAOQ,KAAKO,EAAErC,IAAIpG,IAAM0I,GACvF,OAAO,IAAIxC,EAAaoC,EAAK,GAAGpE,IAAIuE,KASxC3D,EAAU6D,eAAiB,CAAC,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,CAAC,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK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","file":"static/js/main.a93856d6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/westore.76fec085.svg\";","export let importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\n","import {importAll} from 'lib/importAll';\n\ntry {importAll(require.context('initializers', true, /^((?!index).)*$/));} catch (error) {console.log(error);}\n","/* eslint-disable */\n/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\nvar QRCode\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE\n  this.data = data\n  this.parsedData = []\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = []\n    var code = this.data.charCodeAt(i)\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18)\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12)\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6)\n      byteArray[3] = 0x80 | (code & 0x3F)\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12)\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6)\n      byteArray[2] = 0x80 | (code & 0x3F)\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6)\n      byteArray[1] = 0x80 | (code & 0x3F)\n    } else {\n      byteArray[0] = code\n    }\n\n    this.parsedData.push(byteArray)\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData)\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191)\n    this.parsedData.unshift(187)\n    this.parsedData.unshift(239)\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8)\n    }\n  }\n}\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber\n  this.errorCorrectLevel = errorCorrectLevel\n  this.modules = null\n  this.moduleCount = 0\n  this.dataCache = null\n  this.dataList = []\n}\n\nQRCodeModel.prototype = {\n  addData: function (data) {\n    var newData = new QR8bitByte(data)\n    this.dataList.push(newData)\n    this.dataCache = null\n  },\n  isDark: function (row, col) {\n    if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {throw new Error(row + ',' + col)}\n    return this.modules[row][col]\n  },\n  getModuleCount: function () {return this.moduleCount},\n  make: function () {this.makeImpl(false, this.getBestMaskPattern())},\n  makeImpl: function (test, maskPattern) {\n    this.moduleCount = this.typeNumber * 4 + 17\n    this.modules = new Array(this.moduleCount)\n    for (var row = 0; row < this.moduleCount; row++) {\n      this.modules[row] = new Array(this.moduleCount)\n      for (var col = 0; col < this.moduleCount; col++) {this.modules[row][col] = null}\n    }\n    this.setupPositionProbePattern(0, 0)\n    this.setupPositionProbePattern(this.moduleCount - 7, 0)\n    this.setupPositionProbePattern(0, this.moduleCount - 7)\n    this.setupPositionAdjustPattern()\n    this.setupTimingPattern()\n    this.setupTypeInfo(test, maskPattern)\n    if (this.typeNumber >= 7) {this.setupTypeNumber(test)}\n    if (this.dataCache == null) {this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)}\n    this.mapData(this.dataCache, maskPattern)\n  },\n  setupPositionProbePattern: function (row, col) {\n    for (var r = -1; r <= 7; r++) {\n      if (row + r <= -1 || this.moduleCount <= row + r) continue\n      for (var c = -1; c <= 7; c++) {\n        if (col + c <= -1 || this.moduleCount <= col + c) continue\n        if ((0 <= r && r <= 6 && (c == 0 || c == 6)) || (0 <= c && c <= 6 && (r == 0 || r == 6)) || (2 <= r && r <= 4 && 2 <= c && c <= 4)) {this.modules[row + r][col + c] = true} else {this.modules[row + r][col + c] = false}\n      }\n    }\n  },\n  getBestMaskPattern: function () {\n    var minLostPoint = 0\n    var pattern = 0\n    for (var i = 0; i < 8; i++) {\n      this.makeImpl(true, i)\n      var lostPoint = QRUtil.getLostPoint(this)\n      if (i == 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint\n        pattern = i\n      }\n    }\n    return pattern\n  },\n  createMovieClip: function (target_mc, instance_name, depth) {\n    var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth)\n    var cs = 1\n    this.make()\n    for (var row = 0; row < this.modules.length; row++) {\n      var y = row * cs\n      for (var col = 0; col < this.modules[row].length; col++) {\n        var x = col * cs\n        var dark = this.modules[row][col]\n        if (dark) {\n          qr_mc.beginFill(0, 100)\n          qr_mc.moveTo(x, y)\n          qr_mc.lineTo(x + cs, y)\n          qr_mc.lineTo(x + cs, y + cs)\n          qr_mc.lineTo(x, y + cs)\n          qr_mc.endFill()\n        }\n      }\n    }\n    return qr_mc\n  },\n  setupTimingPattern: function () {\n    for (var r = 8; r < this.moduleCount - 8; r++) {\n      if (this.modules[r][6] != null) {continue}\n      this.modules[r][6] = (r % 2 == 0)\n    }\n    for (var c = 8; c < this.moduleCount - 8; c++) {\n      if (this.modules[6][c] != null) {continue}\n      this.modules[6][c] = (c % 2 == 0)\n    }\n  },\n  setupPositionAdjustPattern: function () {\n    var pos = QRUtil.getPatternPosition(this.typeNumber)\n    for (var i = 0; i < pos.length; i++) {\n      for (var j = 0; j < pos.length; j++) {\n        var row = pos[i]\n        var col = pos[j]\n        if (this.modules[row][col] != null) {continue}\n        for (var r = -2; r <= 2; r++) {for (var c = -2; c <= 2; c++) {if (r == -2 || r == 2 || c == -2 || c == 2 || (r == 0 && c == 0)) {this.modules[row + r][col + c] = true} else {this.modules[row + r][col + c] = false}}}\n      }\n    }\n  },\n  setupTypeNumber: function (test) {\n    var bits = QRUtil.getBCHTypeNumber(this.typeNumber)\n    for (var i = 0; i < 18; i++) {\n      var mod = (!test && ((bits >> i) & 1) == 1)\n      this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod\n    }\n    for (var i = 0; i < 18; i++) {\n      var mod = (!test && ((bits >> i) & 1) == 1)\n      this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod\n    }\n  },\n  setupTypeInfo: function (test, maskPattern) {\n    var data = (this.errorCorrectLevel << 3) | maskPattern\n    var bits = QRUtil.getBCHTypeInfo(data)\n    for (var i = 0; i < 15; i++) {\n      var mod = (!test && ((bits >> i) & 1) == 1)\n      if (i < 6) {this.modules[i][8] = mod} else if (i < 8) {this.modules[i + 1][8] = mod} else {this.modules[this.moduleCount - 15 + i][8] = mod}\n    }\n    for (var i = 0; i < 15; i++) {\n      var mod = (!test && ((bits >> i) & 1) == 1)\n      if (i < 8) {this.modules[8][this.moduleCount - i - 1] = mod} else if (i < 9) {this.modules[8][15 - i - 1 + 1] = mod} else {this.modules[8][15 - i - 1] = mod}\n    }\n    this.modules[this.moduleCount - 8][8] = (!test)\n  },\n  mapData: function (data, maskPattern) {\n    var inc = -1\n    var row = this.moduleCount - 1\n    var bitIndex = 7\n    var byteIndex = 0\n    for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n      if (col == 6) col--\n      while (true) {\n        for (var c = 0; c < 2; c++) {\n          if (this.modules[row][col - c] == null) {\n            var dark = false\n            if (byteIndex < data.length) {dark = (((data[byteIndex] >>> bitIndex) & 1) == 1)}\n            var mask = QRUtil.getMask(maskPattern, row, col - c)\n            if (mask) {dark = !dark}\n            this.modules[row][col - c] = dark\n            bitIndex--\n            if (bitIndex == -1) {\n              byteIndex++\n              bitIndex = 7\n            }\n          }\n        }\n        row += inc\n        if (row < 0 || this.moduleCount <= row) {\n          row -= inc\n          inc = -inc\n          break\n        }\n      }\n    }\n  }\n}\nQRCodeModel.PAD0 = 0xEC\nQRCodeModel.PAD1 = 0x11\nQRCodeModel.createData = function (typeNumber, errorCorrectLevel, dataList) {\n  var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel)\n  var buffer = new QRBitBuffer()\n  for (var i = 0; i < dataList.length; i++) {\n    var data = dataList[i]\n    buffer.put(data.mode, 4)\n    buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber))\n    data.write(buffer)\n  }\n  var totalDataCount = 0\n  for (var i = 0; i < rsBlocks.length; i++) {totalDataCount += rsBlocks[i].dataCount}\n  if (buffer.getLengthInBits() > totalDataCount * 8) {\n    throw new Error('code length overflow. ('\n      + buffer.getLengthInBits()\n      + '>'\n      + totalDataCount * 8\n      + ')')\n  }\n  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {buffer.put(0, 4)}\n  while (buffer.getLengthInBits() % 8 != 0) {buffer.putBit(false)}\n  while (true) {\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {break}\n    buffer.put(QRCodeModel.PAD0, 8)\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {break}\n    buffer.put(QRCodeModel.PAD1, 8)\n  }\n  return QRCodeModel.createBytes(buffer, rsBlocks)\n}\nQRCodeModel.createBytes = function (buffer, rsBlocks) {\n  var offset = 0\n  var maxDcCount = 0\n  var maxEcCount = 0\n  var dcdata = new Array(rsBlocks.length)\n  var ecdata = new Array(rsBlocks.length)\n  for (var r = 0; r < rsBlocks.length; r++) {\n    var dcCount = rsBlocks[r].dataCount\n    var ecCount = rsBlocks[r].totalCount - dcCount\n    maxDcCount = Math.max(maxDcCount, dcCount)\n    maxEcCount = Math.max(maxEcCount, ecCount)\n    dcdata[r] = new Array(dcCount)\n    for (var i = 0; i < dcdata[r].length; i++) {dcdata[r][i] = 0xff & buffer.buffer[i + offset]}\n    offset += dcCount\n    var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount)\n    var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1)\n    var modPoly = rawPoly.mod(rsPoly)\n    ecdata[r] = new Array(rsPoly.getLength() - 1)\n    for (var i = 0; i < ecdata[r].length; i++) {\n      var modIndex = i + modPoly.getLength() - ecdata[r].length\n      ecdata[r][i] = (modIndex >= 0) ? modPoly.get(modIndex) : 0\n    }\n  }\n  var totalCodeCount = 0\n  for (var i = 0; i < rsBlocks.length; i++) {totalCodeCount += rsBlocks[i].totalCount}\n  var data = new Array(totalCodeCount)\n  var index = 0\n  for (var i = 0; i < maxDcCount; i++) {for (var r = 0; r < rsBlocks.length; r++) {if (i < dcdata[r].length) {data[index++] = dcdata[r][i]}}}\n  for (var i = 0; i < maxEcCount; i++) {for (var r = 0; r < rsBlocks.length; r++) {if (i < ecdata[r].length) {data[index++] = ecdata[r][i]}}}\n  return data\n}\nvar QRMode = {MODE_NUMBER: 1 << 0, MODE_ALPHA_NUM: 1 << 1, MODE_8BIT_BYTE: 1 << 2, MODE_KANJI: 1 << 3}\nvar QRErrorCorrectLevel = {L: 1, M: 0, Q: 3, H: 2}\nvar QRMaskPattern = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n}\nvar QRUtil = {\n  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],\n  G15: (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n  G18: (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n  G15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\n  getBCHTypeInfo: function (data) {\n    var d = data << 10\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15)))}\n    return ((data << 10) | d) ^ QRUtil.G15_MASK\n  },\n  getBCHTypeNumber: function (data) {\n    var d = data << 12\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18)))}\n    return (data << 12) | d\n  },\n  getBCHDigit: function (data) {\n    var digit = 0\n    while (data != 0) {\n      digit++\n      data >>>= 1\n    }\n    return digit\n  },\n  getPatternPosition: function (typeNumber) {return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1]},\n  getMask: function (maskPattern, i, j) {\n    switch (maskPattern) {\n      case QRMaskPattern.PATTERN000:\n        return (i + j) % 2 == 0\n      case QRMaskPattern.PATTERN001:\n        return i % 2 == 0\n      case QRMaskPattern.PATTERN010:\n        return j % 3 == 0\n      case QRMaskPattern.PATTERN011:\n        return (i + j) % 3 == 0\n      case QRMaskPattern.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0\n      case QRMaskPattern.PATTERN101:\n        return (i * j) % 2 + (i * j) % 3 == 0\n      case QRMaskPattern.PATTERN110:\n        return ((i * j) % 2 + (i * j) % 3) % 2 == 0\n      case QRMaskPattern.PATTERN111:\n        return ((i * j) % 3 + (i + j) % 2) % 2 == 0\n      default:\n        throw new Error('bad maskPattern:' + maskPattern)\n    }\n  },\n  getErrorCorrectPolynomial: function (errorCorrectLength) {\n    var a = new QRPolynomial([1], 0)\n    for (var i = 0; i < errorCorrectLength; i++) {a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0))}\n    return a\n  },\n  getLengthInBits: function (mode, type) {\n    if (1 <= type && type < 10) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 10\n        case QRMode.MODE_ALPHA_NUM:\n          return 9\n        case QRMode.MODE_8BIT_BYTE:\n          return 8\n        case QRMode.MODE_KANJI:\n          return 8\n        default:\n          throw new Error('mode:' + mode)\n      }\n    } else if (type < 27) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 12\n        case QRMode.MODE_ALPHA_NUM:\n          return 11\n        case QRMode.MODE_8BIT_BYTE:\n          return 16\n        case QRMode.MODE_KANJI:\n          return 10\n        default:\n          throw new Error('mode:' + mode)\n      }\n    } else if (type < 41) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 14\n        case QRMode.MODE_ALPHA_NUM:\n          return 13\n        case QRMode.MODE_8BIT_BYTE:\n          return 16\n        case QRMode.MODE_KANJI:\n          return 12\n        default:\n          throw new Error('mode:' + mode)\n      }\n    } else {throw new Error('type:' + type)}\n  },\n  getLostPoint: function (qrCode) {\n    var moduleCount = qrCode.getModuleCount()\n    var lostPoint = 0\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount; col++) {\n        var sameCount = 0\n        var dark = qrCode.isDark(row, col)\n        for (var r = -1; r <= 1; r++) {\n          if (row + r < 0 || moduleCount <= row + r) {continue}\n          for (var c = -1; c <= 1; c++) {\n            if (col + c < 0 || moduleCount <= col + c) {continue}\n            if (r == 0 && c == 0) {continue}\n            if (dark == qrCode.isDark(row + r, col + c)) {sameCount++}\n          }\n        }\n        if (sameCount > 5) {lostPoint += (3 + sameCount - 5)}\n      }\n    }\n    for (var row = 0; row < moduleCount - 1; row++) {\n      for (var col = 0; col < moduleCount - 1; col++) {\n        var count = 0\n        if (qrCode.isDark(row, col)) count++\n        if (qrCode.isDark(row + 1, col)) count++\n        if (qrCode.isDark(row, col + 1)) count++\n        if (qrCode.isDark(row + 1, col + 1)) count++\n        if (count == 0 || count == 4) {lostPoint += 3}\n      }\n    }\n    for (var row = 0; row < moduleCount; row++) {for (var col = 0; col < moduleCount - 6; col++) {if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {lostPoint += 40}}}\n    for (var col = 0; col < moduleCount; col++) {for (var row = 0; row < moduleCount - 6; row++) {if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {lostPoint += 40}}}\n    var darkCount = 0\n    for (var col = 0; col < moduleCount; col++) {for (var row = 0; row < moduleCount; row++) {if (qrCode.isDark(row, col)) {darkCount++}}}\n    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5\n    lostPoint += ratio * 10\n    return lostPoint\n  }\n}\nvar QRMath = {\n  glog: function (n) {\n    if (n < 1) {throw new Error('glog(' + n + ')')}\n    return QRMath.LOG_TABLE[n]\n  }, gexp: function (n) {\n    while (n < 0) {n += 255}\n    while (n >= 256) {n -= 255}\n    return QRMath.EXP_TABLE[n]\n  }, EXP_TABLE: new Array(256), LOG_TABLE: new Array(256)\n}\nfor (var i = 0; i < 8; i++) {QRMath.EXP_TABLE[i] = 1 << i}\nfor (var i = 8; i < 256; i++) {QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8]}\nfor (var i = 0; i < 255; i++) {QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i}\n\nfunction QRPolynomial(num, shift) {\n  if (num.length == undefined) {throw new Error(num.length + '/' + shift)}\n  var offset = 0\n  while (offset < num.length && num[offset] == 0) {offset++}\n  this.num = new Array(num.length - offset + shift)\n  for (var i = 0; i < num.length - offset; i++) {this.num[i] = num[i + offset]}\n}\n\nQRPolynomial.prototype = {\n  get: function (index) {return this.num[index]},\n  getLength: function () {return this.num.length},\n  multiply: function (e) {\n    var num = new Array(this.getLength() + e.getLength() - 1)\n    for (var i = 0; i < this.getLength(); i++) {for (var j = 0; j < e.getLength(); j++) {num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)))}}\n    return new QRPolynomial(num, 0)\n  },\n  mod: function (e) {\n    if (this.getLength() - e.getLength() < 0) {return this}\n    var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0))\n    var num = new Array(this.getLength())\n    for (var i = 0; i < this.getLength(); i++) {num[i] = this.get(i)}\n    for (var i = 0; i < e.getLength(); i++) {num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio)}\n    return new QRPolynomial(num, 0).mod(e)\n  }\n}\n\nfunction QRRSBlock(totalCount, dataCount) {\n  this.totalCount = totalCount\n  this.dataCount = dataCount\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]]\nQRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel)\n  if (rsBlock == undefined) {throw new Error('bad rs block @ typeNumber:' + typeNumber + '/errorCorrectLevel:' + errorCorrectLevel)}\n  var length = rsBlock.length / 3\n  var list = []\n  for (var i = 0; i < length; i++) {\n    var count = rsBlock[i * 3 + 0]\n    var totalCount = rsBlock[i * 3 + 1]\n    var dataCount = rsBlock[i * 3 + 2]\n    for (var j = 0; j < count; j++) {list.push(new QRRSBlock(totalCount, dataCount))}\n  }\n  return list\n}\nQRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n  switch (errorCorrectLevel) {\n    case QRErrorCorrectLevel.L:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0]\n    case QRErrorCorrectLevel.M:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1]\n    case QRErrorCorrectLevel.Q:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2]\n    case QRErrorCorrectLevel.H:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3]\n    default:\n      return undefined\n  }\n}\n\nfunction QRBitBuffer() {\n  this.buffer = []\n  this.length = 0\n}\n\nQRBitBuffer.prototype = {\n  get: function (index) {\n    var bufIndex = Math.floor(index / 8)\n    return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) == 1\n  },\n  put: function (num, length) {for (var i = 0; i < length; i++) {this.putBit(((num >>> (length - i - 1)) & 1) == 1)}},\n  getLengthInBits: function () {return this.length},\n  putBit: function (bit) {\n    var bufIndex = Math.floor(this.length / 8)\n    if (this.buffer.length <= bufIndex) {this.buffer.push(0)}\n    if (bit) {this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))}\n    this.length++\n  }\n}\nvar QRCodeLimitLength = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]]\n\nfunction _isSupportCanvas() {\n  return typeof CanvasRenderingContext2D != 'undefined'\n}\n\n// android 2.x doesn't support Data-URI spec\nfunction _getAndroid() {\n  var android = false\n  var sAgent = navigator.userAgent\n\n  if (/android/i.test(sAgent)) { // android\n    android = true\n    var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i)\n\n    if (aMat && aMat[1]) {\n      android = parseFloat(aMat[1])\n    }\n  }\n\n  return android\n}\n\nvar svgDrawer = (function () {\n\n  var Drawing = function (el, htOption) {\n    this._el = el\n    this._htOption = htOption\n  }\n\n  Drawing.prototype.draw = function (oQRCode) {\n    var _htOption = this._htOption\n    var _el = this._el\n    var nCount = oQRCode.getModuleCount()\n    var nWidth = Math.floor(_htOption.width / nCount)\n    var nHeight = Math.floor(_htOption.height / nCount)\n\n    this.clear()\n\n    function makeSVG(tag, attrs) {\n      var el = document.createElementNS('http://www.w3.org/2000/svg', tag)\n      for (var k in attrs)\n        if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k])\n      return el\n    }\n\n    var svg = makeSVG('svg', {\n      'viewBox': '0 0 ' + String(nCount) + ' ' + String(nCount),\n      'width': '100%',\n      'height': '100%',\n      'fill': _htOption.colorLight\n    })\n    svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink')\n    _el.appendChild(svg)\n\n    svg.appendChild(makeSVG('rect', {'fill': _htOption.colorLight, 'width': '100%', 'height': '100%'}))\n    svg.appendChild(makeSVG('rect', {'fill': _htOption.colorDark, 'width': '1', 'height': '1', 'id': 'template'}))\n\n    for (var row = 0; row < nCount; row++) {\n      for (var col = 0; col < nCount; col++) {\n        if (oQRCode.isDark(row, col)) {\n          var child = makeSVG('use', {'x': String(col), 'y': String(row)})\n          child.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#template')\n          svg.appendChild(child)\n        }\n      }\n    }\n  }\n  Drawing.prototype.clear = function () {\n    while (this._el.hasChildNodes())\n      this._el.removeChild(this._el.lastChild)\n  }\n  return Drawing\n})()\n\nvar useSVG = document.documentElement.tagName.toLowerCase() === 'svg'\n\n// Drawing in DOM by using Table tag\nvar Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {\n  var Drawing = function (el, htOption) {\n    this._el = el\n    this._htOption = htOption\n  }\n\n  /**\n   * Draw the QRCode\n   *\n   * @param {QRCode} oQRCode\n   */\n  Drawing.prototype.draw = function (oQRCode) {\n    var _htOption = this._htOption\n    var _el = this._el\n    var nCount = oQRCode.getModuleCount()\n    var nWidth = Math.floor(_htOption.width / nCount)\n    var nHeight = Math.floor(_htOption.height / nCount)\n    var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">']\n\n    for (var row = 0; row < nCount; row++) {\n      aHTML.push('<tr>')\n\n      for (var col = 0; col < nCount; col++) {\n        aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + 'px;height:' + nHeight + 'px;background-color:' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>')\n      }\n\n      aHTML.push('</tr>')\n    }\n\n    aHTML.push('</table>')\n    _el.innerHTML = aHTML.join('')\n\n    // Fix the margin values as real size.\n    var elTable = _el.childNodes[0]\n    var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2\n    var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2\n\n    if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n      elTable.style.margin = nTopMarginTable + 'px ' + nLeftMarginTable + 'px'\n    }\n  }\n\n  /**\n   * Clear the QRCode\n   */\n  Drawing.prototype.clear = function () {\n    this._el.innerHTML = ''\n  }\n\n  return Drawing\n})() : (function () { // Drawing in Canvas\n  function _onMakeImage() {\n    this._elImage.src = this._elCanvas.toDataURL('image/png')\n    this._elImage.style.display = 'block'\n    this._elCanvas.style.display = 'none'\n  }\n\n  /**\n   * Check whether the user's browser supports Data URI or not\n   *\n   * @private\n   * @param {Function} fSuccess Occurs if it supports Data URI\n   * @param {Function} fFail Occurs if it doesn't support Data URI\n   */\n  function _safeSetDataURI(fSuccess, fFail) {\n    var self = this\n    self._fFail = fFail\n    self._fSuccess = fSuccess\n\n    // Check it just once\n    if (self._bSupportDataURI === null) {\n      var el = document.createElement('img')\n      var fOnError = function () {\n        self._bSupportDataURI = false\n\n        if (self._fFail) {\n          self._fFail.call(self)\n        }\n      }\n      var fOnSuccess = function () {\n        self._bSupportDataURI = true\n\n        if (self._fSuccess) {\n          self._fSuccess.call(self)\n        }\n      }\n\n      el.onabort = fOnError\n      el.onerror = fOnError\n      el.onload = fOnSuccess\n      el.src = 'data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==' // the Image contains 1px data.\n      return\n    } else if (self._bSupportDataURI === true && self._fSuccess) {\n      self._fSuccess.call(self)\n    } else if (self._bSupportDataURI === false && self._fFail) {\n      self._fFail.call(self)\n    }\n  }\n\n  /**\n   * Drawing QRCode by using canvas\n   *\n   * @constructor\n   * @param {HTMLElement} el\n   * @param {Object} htOption QRCode Options\n   */\n  var Drawing = function (el, htOption) {\n    this._bIsPainted = false\n    this._android = _getAndroid()\n\n    this._htOption = htOption\n    this._elCanvas = document.createElement('canvas')\n    this._elCanvas.width = htOption.width\n    this._elCanvas.height = htOption.height\n    el.appendChild(this._elCanvas)\n    this._el = el\n    this._oContext = this._elCanvas.getContext('2d')\n    this._bIsPainted = false\n    this._elImage = document.createElement('img')\n    this._elImage.alt = '[二维码]'\n    this._elImage.style.display = 'none'\n    this._el.appendChild(this._elImage)\n    this._bSupportDataURI = null\n  }\n\n  /**\n   * Draw the QRCode\n   *\n   * @param {QRCode} oQRCode\n   */\n  Drawing.prototype.draw = function (oQRCode) {\n    var _elImage = this._elImage\n    var _oContext = this._oContext\n    var _htOption = this._htOption\n\n    var nCount = oQRCode.getModuleCount()\n    var nWidth = _htOption.width / nCount\n    var nHeight = _htOption.height / nCount\n    var nRoundedWidth = Math.round(nWidth)\n    var nRoundedHeight = Math.round(nHeight)\n\n    _elImage.style.display = 'none'\n    this.clear()\n\n    for (var row = 0; row < nCount; row++) {\n      for (var col = 0; col < nCount; col++) {\n        var bIsDark = oQRCode.isDark(row, col)\n        var nLeft = col * nWidth\n        var nTop = row * nHeight\n        _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight\n        _oContext.lineWidth = 1\n        _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight\n        _oContext.fillRect(nLeft, nTop, nWidth, nHeight)\n\n        // 안티 앨리어싱 방지 처리\n        _oContext.strokeRect(\n          Math.floor(nLeft) + 0.5,\n          Math.floor(nTop) + 0.5,\n          nRoundedWidth,\n          nRoundedHeight\n        )\n\n        _oContext.strokeRect(\n          Math.ceil(nLeft) - 0.5,\n          Math.ceil(nTop) - 0.5,\n          nRoundedWidth,\n          nRoundedHeight\n        )\n      }\n    }\n\n    this._bIsPainted = true\n  }\n\n  /**\n   * Make the image from Canvas if the browser supports Data URI.\n   */\n  Drawing.prototype.makeImage = function () {\n    if (this._bIsPainted) {\n      _safeSetDataURI.call(this, _onMakeImage)\n    }\n  }\n\n  /**\n   * Return whether the QRCode is painted or not\n   *\n   * @return {Boolean}\n   */\n  Drawing.prototype.isPainted = function () {\n    return this._bIsPainted\n  }\n\n  /**\n   * Clear the QRCode\n   */\n  Drawing.prototype.clear = function () {\n    this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height)\n    this._bIsPainted = false\n  }\n\n  /**\n   * @private\n   * @param {Number} nNumber\n   */\n  Drawing.prototype.round = function (nNumber) {\n    if (!nNumber) {\n      return nNumber\n    }\n\n    return Math.floor(nNumber * 1000) / 1000\n  }\n\n  return Drawing\n})()\n\n/**\n * Get the type by string length\n *\n * @private\n * @param {String} sText\n * @param {Number} nCorrectLevel\n * @return {Number} type\n */\nfunction _getTypeNumber(sText, nCorrectLevel) {\n  var nType = 1\n  var length = _getUTF8Length(sText)\n\n  for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n    var nLimit = 0\n\n    switch (nCorrectLevel) {\n      case QRErrorCorrectLevel.L :\n        nLimit = QRCodeLimitLength[i][0]\n        break\n      case QRErrorCorrectLevel.M :\n        nLimit = QRCodeLimitLength[i][1]\n        break\n      case QRErrorCorrectLevel.Q :\n        nLimit = QRCodeLimitLength[i][2]\n        break\n      case QRErrorCorrectLevel.H :\n        nLimit = QRCodeLimitLength[i][3]\n        break\n    }\n\n    if (length <= nLimit) {\n      break\n    } else {\n      nType++\n    }\n  }\n\n  if (nType > QRCodeLimitLength.length) {\n    throw new Error('Too long data')\n  }\n\n  return nType\n}\n\nfunction _getUTF8Length(sText) {\n  var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a')\n  return replacedText.length + (replacedText.length != sText ? 3 : 0)\n}\n\n/**\n * @class QRCode\n * @constructor\n * @example\n * new QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n *\n * @example\n * var oQRCode = new QRCode(\"test\", {\n *    text : \"http://naver.com\",\n *    width : 128,\n *    height : 128\n * });\n *\n * oQRCode.clear(); // Clear the QRCode.\n * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the QRCode.\n *\n * @param {HTMLElement|String} el target element or 'id' attribute of element.\n * @param {Object|String} vOption\n * @param {String} vOption.text QRCode link data\n * @param {Number} [vOption.width=256]\n * @param {Number} [vOption.height=256]\n * @param {String} [vOption.colorDark=\"#000000\"]\n * @param {String} [vOption.colorLight=\"#ffffff\"]\n * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\n */\nQRCode = function (el, vOption) {\n  this._htOption = {\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    colorDark: '#000',\n    colorLight: '#FFF',\n    correctLevel: QRErrorCorrectLevel.H\n  }\n\n  if (typeof vOption === 'string') {\n    vOption = {\n      text: vOption\n    }\n  }\n\n  // Overwrites options\n  if (vOption) {\n    for (var i in vOption) {\n      this._htOption[i] = vOption[i]\n    }\n  }\n\n  if (typeof el == 'string') {\n    el = document.getElementById(el)\n  }\n\n  if (this._htOption.useSVG) {\n    Drawing = svgDrawer\n  }\n\n  this._android = _getAndroid()\n  this._el = el\n  this._oQRCode = null\n  this._oDrawing = new Drawing(this._el, this._htOption)\n\n  if (this._htOption.text) {\n    this.makeCode(this._htOption.text)\n  }\n}\n\n/**\n * Make the QRCode\n *\n * @param {String} sText link data\n */\nQRCode.prototype.makeCode = function (sText) {\n  this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel)\n  this._oQRCode.addData(sText)\n  this._oQRCode.make()\n  this._el.title = sText\n  this._oDrawing.draw(this._oQRCode)\n  this.makeImage()\n}\n\n/**\n * Make the Image from Canvas element\n * - It occurs automatically\n * - Android below 3 doesn't support Data-URI spec.\n *\n * @private\n */\nQRCode.prototype.makeImage = function () {\n  if (typeof this._oDrawing.makeImage == 'function' && (!this._android || this._android >= 3)) {\n    this._oDrawing.makeImage()\n  }\n}\n\n/**\n * Clear the QRCode\n */\nQRCode.prototype.clear = function () {\n  this._oDrawing.clear()\n}\n\n/**\n * @name QRCode.CorrectLevel\n */\nQRCode.CorrectLevel = QRErrorCorrectLevel\n\nmodule.exports.QRCode = QRCode\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontHei\":\"-apple-system,\\\"Noto Sans\\\",\\\"Helvetica Neue\\\",Helvetica,\\\"Nimbus Sans L\\\",Arial,\\\"Liberation Sans\\\",\\\"PingFang SC\\\",\\\"Hiragino Sans GB\\\",\\\"Noto Sans CJK SC\\\",\\\"Source Han Sans SC\\\",\\\"Source Han Sans CN\\\",\\\"Microsoft YaHei\\\",\\\"Wenquanyi Micro Hei\\\",\\\"WenQuanYi Zen Hei\\\",\\\"ST Heiti\\\",SimHei,\\\"WenQuanYi Zen Hei Sharp\\\",sans-serif\",\"borderRadius\":\"4px\",\"colorMain\":\"#2452ff\",\"colorDanger\":\"red\",\"colorBorder\":\"#ccc\",\"colorText\":\"#333\",\"colorText2\":\"#666\",\"colorText3\":\"#999\",\"colorShadow\":\"rgba(0,0,0,.25)\",\"heightHeader\":\"56px\",\"heightItem\":\"56px\",\"heightTab\":\"56px\"};","module.exports = __webpack_public_path__ + \"static/media/wepay.6de17e90.svg\";","module.exports = __webpack_public_path__ + \"static/media/alipay.69766e6b.svg\";","var map = {\n\t\"./add.svg\": 64,\n\t\"./cart.svg\": 65,\n\t\"./chart.svg\": 66,\n\t\"./edit.svg\": 67,\n\t\"./left.svg\": 68,\n\t\"./money.svg\": 69,\n\t\"./order.svg\": 70,\n\t\"./right.svg\": 71,\n\t\"./shop.svg\": 72,\n\t\"./tag.svg\": 73,\n\t\"./user.svg\": 74,\n\t\"./westore.svg\": 75\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 63;","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"add\",\n  \"use\": \"add-usage\",\n  \"viewBox\": \"0 0 1026 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1026 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"add\\\"><defs><style></style></defs><path d=\\\"M913.449 563.249h-800.2a49.308 49.308 0 01-49.45-49.45v-4.046a49.308 49.308 0 0149.45-49.451h800.2a49.308 49.308 0 0149.45 49.45v4.047a49.308 49.308 0 01-49.45 49.45z\\\" /><path d=\\\"M565.047 111.45v800.2a49.308 49.308 0 01-49.45 49.45h-4.046a49.308 49.308 0 01-49.451-49.45v-800.2A49.308 49.308 0 01511.55 62h4.047c27.422 0 49.45 22.477 49.45 49.45z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"cart\",\n  \"use\": \"cart-usage\",\n  \"viewBox\": \"0 0 1186 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1186 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"cart\\\"><defs><style></style></defs><path d=\\\"M992.094 610.681c-9.54 22.043-34.708 38.05-59.877 38.05h-533.45l37.43 132.473c1.67.27 3.288.485 4.931.836h491.71c8.272-1.779 16.841-2.803 25.626-2.803 67.207 0 121.856 54.892 121.856 122.314 0 67.476-54.65 122.314-121.856 122.314s-121.883-54.838-121.883-122.314c0-25.007 7.545-48.263 20.426-67.638H516.931c12.908 19.375 20.426 42.631 20.426 67.638 0 67.476-54.649 122.314-121.856 122.314S293.62 969.027 293.62 901.551c0-56.428 38.319-103.882 90.165-117.948L219.163 81.139c-3.45-15.522-21.046-29.13-37.7-29.13H39.317c-14.255 0-25.842-11.642-25.842-25.978C13.474 11.722 25.06.108 39.316.108h142.148c40.798 0 79.494 30.639 88.144 69.74l16.277 72.946h842.967c15.064 0 28.268 7.006 36.244 19.214 8.327 12.692 9.459 29.13 3.019 43.897L992.095 610.68zm-33.657 361.31c38.75 0 70.171-31.528 70.171-70.413 0-37.484-29.184-67.988-65.94-70.198-3.369 1.644-7.087 2.587-11.022 2.587h-12.53c-29.346 8.435-50.85 35.463-50.85 67.638 0 38.858 31.42 70.387 70.171 70.387zm-613.16-70.413c0 38.885 31.42 70.414 70.17 70.414s70.172-31.529 70.172-70.414c0-32.148-21.478-59.203-50.823-67.638h-13.231c-3.935 0-7.626-.943-10.941-2.533-36.487 2.533-65.347 32.957-65.347 70.171zm-47.805-706.883l89.708 402.162h545.064c5.066 0 11.345-4.311 12.477-6.898l171.897-395.264H297.472z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M274.432 569.856v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0zm-37.888-163.84L460.8 249.344l133.12 145.408a29.184 29.184 0 007.168 5.12h4.096l9.216 9.728h10.24a28.672 28.672 0 008.192-3.584l235.52-164.352a29.696 29.696 0 00-34.304-51.2l-217.6 153.6-128.512-153.6a29.696 29.696 0 00-38.4-4.096 28.672 28.672 0 00-7.68 3.072L204.8 358.4a29.696 29.696 0 0034.304 51.2zm201.728 48.64v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm326.144 0v284.672a29.696 29.696 0 1059.904 0V454.656a29.696 29.696 0 00-59.904 0zm-162.304 115.2v169.472a29.696 29.696 0 0059.904 0V569.856a29.696 29.696 0 00-59.904 0z\\\" /><path d=\\\"M930.304 841.216H137.728v-632.32a29.696 29.696 0 10-59.904 0V870.4a30.208 30.208 0 0029.696 29.696h822.784a29.696 29.696 0 000-59.904z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"edit\",\n  \"use\": \"edit-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"edit\\\"><defs><style></style></defs><path d=\\\"M978.672 111.92l-67.584-67.44c-18.656-18.624-48.912-18.624-67.568 0L742.176 145.632l135.136 134.864 101.344-101.152c18.688-18.608 18.688-48.8.016-67.424zM848 912H112V176h533.712l96-96H64c-26.512 0-48 21.488-48 48v832c0 26.512 21.488 48 48 48h832c26.512 0 48-21.488 48-48V285.008l-96 96V912zm-4.464-597.776L708.416 179.36 303.008 583.968l135.136 134.864 405.392-404.608zM223.968 797.44l180.128-44.896-135.152-134.896-44.976 179.792z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M714.7 960c-10.2 0-20.4-3.8-28.2-11.5L281.1 541.6c-15.8-15.5-16.1-40.9-.6-56.7L685.9 76.2c15.5-15.9 41-16.2 56.9-.8 15.9 15.5 16.3 41 .8 56.9L366 512.3l376.9 378.8c15.8 15.6 16.1 41 .5 56.9-7.9 8-18.3 12-28.7 12z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M441.186 759.832H208.598c-3.389-10.102-5.067-24.432-5.067-42.974 0-7.584.42-15.169 1.259-22.753.839-7.585 2.113-14.75 3.807-21.495h232.588V561.358H208.597c-3.389-10.102-5.067-24.431-5.067-42.974 0-7.584.42-15.17 1.259-22.754.839-7.584 2.113-14.749 3.807-21.494h182.03L158.024 64.556c10.94-1.679 22.946-2.938 36.018-3.777 13.07-.839 25.497-1.275 37.309-1.275 11.78 0 23.996.436 36.647 1.275 12.636.84 24.012 2.098 34.13 3.776l207.317 381.777 203.54-381.777a428.914 428.914 0 0133.486-3.776 472.535 472.535 0 0134.776-1.275c11.78 0 23.576.436 35.389 1.275 11.796.84 22.753 2.098 32.871 3.776l-228.81 409.582h192.146c2.518 11.812 3.793 25.287 3.793 40.456 0 18.542-1.275 34.13-3.793 46.766H570.14V672.61h242.705c2.518 11.813 3.793 25.287 3.793 40.455 0 18.543-1.275 34.132-3.793 46.767H570.14v198.473c-10.119 1.678-20.657 2.953-31.614 3.791a430.317 430.317 0 01-32.871 1.259 430.37 430.37 0 01-32.873-1.259c-10.957-.838-21.494-2.113-31.596-3.791V759.832z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"order\",\n  \"use\": \"order-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"order\\\"><defs><style></style></defs><path d=\\\"M215.906 1024.527A142.531 142.531 0 0173.57 882.19V141.809A142.531 142.531 0 01215.906-.527h592.286A142.531 142.531 0 01950.528 141.81v740.284a142.531 142.531 0 01-142.336 142.336zm0-962.379a79.857 79.857 0 00-79.759 79.759V882.19a79.857 79.857 0 0079.759 79.759h592.286a79.857 79.857 0 0079.759-79.76V141.81a79.857 79.857 0 00-79.76-79.76z\\\" /><path d=\\\"M277.702 543.337a31.337 31.337 0 110-62.577h468.596a31.337 31.337 0 110 62.577zm0 147.999a31.337 31.337 0 110-62.187h319.72a31.337 31.337 0 110 62.675zm0-296.485a31.337 31.337 0 110-62.675h468.596a31.337 31.337 0 110 62.675z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M309.3 64c10.2 0 20.4 3.8 28.2 11.5l405.4 406.9c15.8 15.5 16.1 40.9.6 56.7L338.1 947.8c-15.5 15.9-41 16.2-56.9.8-15.9-15.5-16.3-41-.8-56.9l377.6-380-376.9-378.8c-15.8-15.6-16.1-41-.5-56.9 7.9-8 18.3-12 28.7-12z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"shop\",\n  \"use\": \"shop-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"shop\\\"><defs><style></style></defs><path d=\\\"M925.355 188.459A132.01 132.01 0 00794.709 77.78H229.291A132.01 132.01 0 0098.645 188.416l-38.912 234.71A131.84 131.84 0 00112.3 528v285.696a132.608 132.608 0 00132.437 132.48h534.4a132.608 132.608 0 00132.437-132.48V527.659A135.68 135.68 0 00963.84 418.9L925.355 188.46zM593.28 895.019H430.677v-162.56H593.28v162.56zm267.221-81.28c0 44.8-36.437 81.28-81.28 81.28H644.48v-188.16a25.6 25.6 0 00-25.6-25.6H405.12a25.6 25.6 0 00-25.6 25.6v188.16H244.779a81.323 81.323 0 01-81.28-81.28v-261.59c9.216 2.048 18.688 3.286 28.501 3.286 43.733 0 82.603-21.334 106.667-54.144a132.096 132.096 0 00213.333 0 132.096 132.096 0 00213.333 0A132.096 132.096 0 00832 555.435c9.813 0 19.285-1.238 28.501-3.286v261.59zm16-322.944c-.469.17-.853.469-1.28.682-12.544 7.936-27.306 12.715-43.178 12.715-44.715 0-81.067-36.352-81.067-81.067a25.6 25.6 0 10-51.2 0c0 44.715-36.395 81.067-81.067 81.067s-81.066-36.352-81.066-81.067a25.6 25.6 0 10-51.2 0c0 44.715-36.395 81.067-81.067 81.067s-81.067-36.352-81.067-81.067a25.6 25.6 0 10-51.2 0c0 44.715-36.394 81.067-81.066 81.067-15.318 0-29.526-4.523-41.771-11.733-1.152-.64-2.176-1.323-3.413-1.792-21.675-14.208-36.054-37.931-36.267-63.275l38.528-230.485a80.939 80.939 0 0180.17-67.883h565.42c39.935 0 73.642 28.544 80.17 67.883l38.187 226.218c0 28.288-14.592 53.163-36.566 67.67z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M979.383 401.554L953.05 117.03c-7.314-21.943-24.137-38.766-46.08-46.08L622.446 44.617a73.874 73.874 0 00-74.606 17.554L62.171 547.84a72.85 72.85 0 000 103.131l310.126 310.126c28.526 28.526 74.606 28.526 103.132 0L960.366 476.16c20.48-19.749 27.794-48.274 19.017-74.606zM747.52 276.48a55.15 55.15 0 010-77.531c21.211-21.212 56.32-21.212 77.531 0 21.212 21.211 21.212 56.32 0 77.531-21.211 21.211-55.588 21.211-77.531 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"user\",\n  \"use\": \"user-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"user\\\"><defs><style></style></defs><path d=\\\"M512 561.152c-153.088 0-277.504-124.416-277.504-277.504C234.496 130.56 358.912 6.144 512 6.144S789.504 130.56 789.504 283.648c0 153.088-124.416 277.504-277.504 277.504zm0-478.72c-111.104 0-201.216 90.112-201.216 201.216 0 111.104 90.112 201.216 201.216 201.216s201.216-90.112 201.216-201.216c0-111.104-90.112-201.216-201.216-201.216z\\\" /><path d=\\\"M969.216 1012.736c-20.992 0-38.4-11.264-38.4-32.256 0-230.912-187.904-418.816-418.816-418.816S93.184 749.568 93.184 980.48c0 20.992-16.896 32.256-38.4 32.256s-38.4-11.264-38.4-32.256c0-272.896 222.208-495.104 495.104-495.104s495.104 222.208 495.104 495.104c.512 20.992-16.384 32.256-37.376 32.256z\\\" /><path d=\\\"M977.92 1013.248H45.568c-15.872 0-29.184-13.312-29.184-29.184v-7.68c0-15.872 13.312-29.184 29.184-29.184h931.84c15.872 0 29.184 13.312 29.184 29.184v7.68c.512 15.872-12.8 29.184-28.672 29.184z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/.pnpm/svg-baker-runtime@1.4.7/node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/.pnpm/svg-sprite-loader@4.3.0_webpack@4.42.0/node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"westore\",\n  \"use\": \"westore-usage\",\n  \"viewBox\": \"0 0 1274 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1274 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"westore\\\"><defs><style></style></defs><path d=\\\"M442.285 846.098L732.505 8.192h146.516L502.284 1024H383.679L7.62 8.18h145.813l288.852 837.93z\\\" /><path d=\\\"M835.203 846.098L1125.447 8.192h146.516L895.214 1024H776.61L400.55 8.18h145.813l288.839 837.93z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontHei\":\"-apple-system,\\\"Noto Sans\\\",\\\"Helvetica Neue\\\",Helvetica,\\\"Nimbus Sans L\\\",Arial,\\\"Liberation Sans\\\",\\\"PingFang SC\\\",\\\"Hiragino Sans GB\\\",\\\"Noto Sans CJK SC\\\",\\\"Source Han Sans SC\\\",\\\"Source Han Sans CN\\\",\\\"Microsoft YaHei\\\",\\\"Wenquanyi Micro Hei\\\",\\\"WenQuanYi Zen Hei\\\",\\\"ST Heiti\\\",SimHei,\\\"WenQuanYi Zen Hei Sharp\\\",sans-serif\",\"borderRadius\":\"4px\",\"colorMain\":\"#2452ff\",\"colorDanger\":\"red\",\"colorBorder\":\"#ccc\",\"colorText\":\"#333\",\"colorText2\":\"#666\",\"colorText3\":\"#999\",\"colorShadow\":\"rgba(0,0,0,.25)\",\"heightHeader\":\"56px\",\"heightItem\":\"56px\",\"heightTab\":\"56px\"};","var map = {\n\t\".\": 34,\n\t\"./\": 34\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 98;","import React from 'react';\nimport {importAll} from 'lib/importAll';\nimport cs from 'classnames';\n\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ninterface Props extends React.SVGAttributes<SVGElement> {\n  name?: string;\n}\n\nconst Icon: React.FC<Props> = (props) => {\n  const {name, children, className, ...rest} = props;\n  return (\n    <svg className={cs('icon', className)} {...rest}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  );\n};\n\nIcon.defaultProps = {\n  fill: 'currentColor'\n};\n\nexport default Icon;\n","import {createHashHistory} from 'history';\n\nexport const history = createHashHistory();\n\nlet _pathnameBeforeSignIn = window.localStorage.getItem('pathnameBeforeSignIn') || '';\nexport const pathnameBeforeSignIn = Object.defineProperty({\n  value: ''\n}, 'value', {\n  get() {\n    return _pathnameBeforeSignIn;\n  },\n  set(v: string) {\n    _pathnameBeforeSignIn = v;\n    window.localStorage.setItem('pathnameBeforeSignIn', v);\n  }\n});\n\n","import React from 'react';\nimport Icon from './Icon';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {history} from '../lib/history';\nimport {matchPath} from 'react-router-dom';\n\nconst Wrapper = styled.div`\n  font-size: 24px;\n  display:flex;\n  flex-shrink: 0;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n  background:white;\n  border-bottom: 1px solid ${vars.colorBorder};\n  height: ${vars.heightHeader};\n  position:relative;\n`;\n\nexport interface TopbarProps {\n  title: string;\n  action?: React.ReactNode;\n  hasBack?: boolean;\n}\n\nconst Placeholder = styled.div`\n  width: 24px;\n  height: 24px;\n  text-align:right;\n`;\nconst goBack = () => {\n  const {pathname} = history.location;\n  const backs: { [K: string]: string } = {\n    '/shops/:shopId/goods/:id': '/shops/:shopId',\n  };\n  for (let key in backs) {\n    const route = matchPath<{ [k: string]: string }>(\n      pathname, {path: key, exact: true}\n    );\n    if (!route) {continue;}\n    console.log(route);\n    return history.push(backs[key].replace(/:([^\\/]+)/g,\n      (match, capture) => route.params[capture]));\n  }\n  history.goBack();\n};\nconst Action = styled.div`\n  position:absolute;\n  right:16px; \n  top: 50%;\n  display:flex;\n  align-items: center;\n  transform: translateY(-50%);\n`;\nconst Topbar: React.FC<TopbarProps> = (props) => {\n  return (\n    <Wrapper>\n      {props.hasBack ?\n        <Icon name=\"left\" onClick={goBack}/>\n        :\n        <Icon/>\n      }\n      <span>{props.title}</span>\n      <Placeholder/>\n      <Action>\n        {props.action}\n      </Action>\n    </Wrapper>\n  );\n};\nTopbar.defaultProps = {\n  hasBack: true\n};\n\nexport {Topbar};\n","import React, {ReactNode} from 'react';\nimport styled from 'styled-components';\nimport {Topbar, TopbarProps} from './Topbar';\n\n\ninterface Props extends TopbarProps {\n  footer?: ReactNode;\n}\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  display:flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`;\nconst Footer = styled.footer`\n  flex-grow: 0;  \n  margin-top: auto;\n`;\n\nconst Layout: React.FC<Props> = (props) => {\n  return (\n    <Wrapper>\n      <Topbar title={props.title} action={props.action} hasBack={props.hasBack}/>\n      <Main>\n        {props.children}\n      </Main>\n      <Footer>\n        {props.footer}\n      </Footer>\n    </Wrapper>\n  );\n};\n\n\nexport default Layout;\n","import React, {forwardRef, useEffect, useRef, useState} from 'react';\nimport cs from 'classnames';\n\ninterface Props extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  autoDisable?: boolean;\n  autoDisableDuration?: number;\n  badge?: string;\n  size?: 'default' | 'small' | 'big';\n}\n\nconst UnstyledButton = forwardRef<HTMLButtonElement, Props>((props, ref) => {\n  const {\n    onClick: outerOnClick, disabled: outerDisabled,\n    badge, className, children, size, autoDisable, autoDisableDuration, ...rest\n  } = props;\n  const timers = useRef<[number | null, number | null]>([null, null]);\n  const needCancelDisable = useRef<boolean>(false);\n  const onClick: typeof outerOnClick = (e) => {\n    if (autoDisable) {\n      needCancelDisable.current = true;\n      timers.current[0] = window.setTimeout(() => {\n        setDisabled(true);\n      }, 0);\n      timers.current[1] = window.setTimeout(() => {\n        if (needCancelDisable.current) {\n          setDisabled(false);\n          needCancelDisable.current = false;\n        }\n      }, props.autoDisableDuration);\n    }\n    outerOnClick?.(e);\n  };\n  const [disabled, setDisabled] = useState(false);\n  useEffect(() => {\n    setDisabled(!!outerDisabled);\n    needCancelDisable.current = false;\n  }, [outerDisabled]);\n  useEffect(() => {\n    const timersRef = timers.current;\n    return () => {\n      timersRef.forEach(id => {\n        id && window.clearTimeout(id);\n      });\n    };\n  }, []);\n\n  return (\n    <button ref={ref} {...rest} onClick={onClick} disabled={disabled}\n      className={cs(className, {[`size-${size}`]: true})}>\n      {children}\n      {badge && <span className=\"badge\">{badge}</span>}\n    </button>\n  );\n});\nUnstyledButton.defaultProps = {\n  autoDisable: true,\n  autoDisableDuration: 1000,\n  type: 'button',\n  size: 'default'\n};\n\n\nexport {UnstyledButton};\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {UnstyledButton} from './UnstyledButton';\n\nexport const SizedButton = styled(UnstyledButton)`\n  white-space: nowrap;\n  height: 40px;\n  padding: 0 16px;\n  flex-grow: 1;\n  font-size: 18px;\n  position:relative;\n  > .badge{\n    position:absolute; \n    bottom: 100%;\n    left: 100%;\n    font-size: 12px;\n    background: ${vars.colorDanger};\n    color: white;\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    display:inline-flex;\n    justify-content: center;\n    align-items: center;\n    white-space: nowrap;\n    transform: translate(-50%,50%);\n  }\n  &.size-small{\n    font-size: 12px;\n    height: 24px;\n    padding: 0 8px;\n  }\n`;\n\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {SizedButton} from './SizedButton';\n\nconst MainButton = styled(SizedButton)`\n  border: none;\n  border-radius: ${vars.borderRadius};\n  background: ${vars.colorMain};\n  color: white;\n  &[disabled]{\n    background:#999;\n  }\n`;\n\nexport {MainButton};\n","import React, {ReactElement, ReactFragment, ReactNode} from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport {MainButton} from './button/MainButton';\nimport {history} from '../lib/history';\n\ninterface Props {\n  visible: boolean;\n  mask?: {\n    visible?: boolean;\n    closeOnClick?: boolean;\n  };\n  title?: string;\n  onClose: React.MouseEventHandler;\n  buttons?: ReactFragment | ReactElement;\n  container?: HTMLElement\n}\n\nconst Mask = styled.div`\n  position:fixed; \n  left: 0;width: 100%; top: 0; height: 100%;\n  background: rgba(0,0,0,0.25);\n`;\nconst Wrapper = styled.div`\n  position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  z-index: 2;\n  border-radius: 4px;\n  min-width: 15em;\n  min-height: 2em;\n`;\nconst Header = styled.header`\n  padding: 8px 16px; \n  font-size: 1.5em;\n`;\nconst Main = styled.div`\n  padding: 8px 16px; \n`;\nconst Footer = styled.footer`\n  display:flex;\n  padding: 8px 16px;\n  > button{\n    flex-grow: 1;\n  }\n`;\nconst Dialog: React.FC<Props> = (props) => {\n  return props.visible ? (\n    ReactDOM.createPortal(\n      (\n        <>\n          {props.mask && (\n            <Mask/>\n          )}\n          <Wrapper>\n            <Header>{props.title || '提示'}</Header>\n            <Main>{props.children}</Main>\n            <Footer>{props.buttons}</Footer>\n          </Wrapper>\n\n        </>\n      ), props.container ?? document.body\n    )\n  ) : null;\n};\nDialog.defaultProps = {\n  mask: {\n    visible: true,\n    closeOnClick: true\n  }\n};\n\nconst createModal = (content: ReactNode, buttons?: ReactFragment | ReactElement) => {\n  const mount = (props: Props, children: ReactNode) => {\n    ReactDOM.render(React.createElement(Dialog, props, children), container);\n  };\n  const onClose = () => {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n    return true;\n  };\n  const container = document.createElement('div');\n  const props = {\n    visible: true,\n    container,\n    onClose,\n    buttons,\n  };\n  document.body.appendChild(container);\n  mount(props, content);\n  window.addEventListener('beforeunload', () => onClose);\n  return onClose;\n};\n\nlet latestAlert: ReturnType<typeof showAlert> | null = null;\n\nconst showAlert = (content: ReactNode, callback?: () => void): () => void => {\n  latestAlert?.();\n  const close = createModal(content,\n    <MainButton onClick={() => {\n      close();\n      callback?.();\n    }}>确定</MainButton>);\n  const unlisten = history.listen((location, action) => {\n    close();\n    unlisten();\n  });\n  return latestAlert = close;\n};\n\n\nexport {Dialog, showAlert};\n","import axios, {AxiosError, AxiosInstance, AxiosRequestConfig} from 'axios';\nimport {showAlert} from 'components/Dialog';\nimport {history, pathnameBeforeSignIn} from './history';\n\nexport interface RequestConfig extends AxiosRequestConfig {\n  autoHandlerError?: boolean | ((error: any) => boolean);\n}\n\nclass HttpClient {\n  client: AxiosInstance;\n\n\n  constructor(\n    public baseUrl: string,\n    public handleError?: (error: any) => Promise<never>\n  ) {\n    this.client = axios.create({\n      baseURL: baseUrl, // 注意大小写\n      timeout: 10 * 1000,\n      headers: {},\n      withCredentials: true,\n    });\n    this.testMock();\n  }\n\n  testMock() {\n\n  }\n\n  ajax<T>(options: RequestConfig) {\n    const {method, url, data, autoHandlerError, ...config} = options;\n    const promise =\n      method === 'get' ? this.client.get<T>(url!, config) :\n        method === 'post' ? this.client.post<T>(url!, data, config) :\n          method === 'patch' ? this.client.patch<T>(url!, data, config) :\n            method === 'delete' ? this.client.delete<T>(url!, config) : undefined as never;\n    return promise.then(null, (error) => {\n      if ((typeof autoHandlerError === 'function' ? autoHandlerError(error) : autoHandlerError)\n        && this.handleError) {\n        return this.handleError(error);\n      } else {\n        return Promise.reject(error);\n      }\n    });\n  }\n\n  get<T>(url: string, options?: RequestConfig) {\n    return this.ajax<T>({...options, url, method: 'get'});\n  }\n\n  post<T>(url: string, data?: unknown, options?: RequestConfig) {\n    return this.ajax<T>({...options, url, data, method: 'post'});\n  }\n\n  patch<T>(url: string, data?: unknown, options?: RequestConfig) {\n    return this.ajax<T>({...options, url, data, method: 'patch'});\n  }\n\n  delete<T>(url: string, options?: RequestConfig) {\n    return this.ajax<T>({...options, url, method: 'delete'});\n  }\n}\n\nconst isDev = () => window.location.hostname === 'localhost';\n\nconst defaultHttpClient = new HttpClient(\n  isDev() ? '/api/v1/' : '/api/v1/',\n  (error) => {\n    if (error.isAxiosError) {\n      const {response} = error as AxiosError;\n      if (response === undefined) {\n        showAlert('网络错误');\n      } else if (response?.status === 401) {\n        showAlert('请先登录', () => {\n          pathnameBeforeSignIn.value = history.location.pathname;\n          history.push('/sign_in');\n        });\n      } else if (response?.status === 404) {\n        showAlert('你访问的资源不存在', () => {\n          history.push('/');\n        });\n      } else if (response?.status >= 400) {\n        showAlert(`服务器繁忙，错误码：${response.status}`);\n      }\n    }\n    return Promise.reject(error);\n  });\nexport {defaultHttpClient, HttpClient};\n","import styled from 'styled-components';\n\nexport const Center = styled.div`\n  display:flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n","import styled from 'styled-components';\n\nexport const Space = styled.div`\n  height: 16px;\n`;\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\n\nexport const ListPanel = styled.div`\n   font-size: 24px; \n  > h1{\n    display:flex; justify-content: space-between; align-items: center; height:${vars.heightHeader};\n    padding: 0 16px; border-bottom: 1px solid ${vars.colorBorder}; border-top: 1px solid ${vars.colorBorder};\n  }\n  > ol {\n    background: white; border-bottom: 1px solid ${vars.colorBorder};\n    > li{\n    }\n  }\n`;\n\nexport const Item = styled.div`\n  > a{\n    display:flex; \n    justify-content: space-between;\n    align-items: center;\n    padding: 0 16px;\n    height: ${vars.heightItem};\n  }\n  .name{\n    margin-right: auto;\n    margin-left: 8px;\n  }\n  img{\n    width: 24px;\n    height: 24px;\n  } \n`;\n","import React, {useEffect, useState} from 'react';\nimport westore from 'images/westore.svg';\n\ninterface Props extends React.ImgHTMLAttributes<HTMLImageElement> {\n  fallbackSrc?: string;\n}\n\nexport const Img: React.FC<Props> = (props) => {\n  const {children, alt, src, fallbackSrc, ...rest} = props;\n  const [_src, setSrc] = useState<string | undefined>(fallbackSrc);\n  useEffect(() => {\n    setSrc(src);\n  }, [src]);\n  const onError = () => {\n    if (fallbackSrc !== undefined && _src !== fallbackSrc) {setSrc(fallbackSrc);}\n  };\n  return (\n    <img src={_src} alt={alt} {...rest} onError={onError}/>\n  );\n};\n\nImg.defaultProps = {\n  alt: '[图片]',\n  fallbackSrc: westore,\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  text-align:center;\n  padding: 16px;\n  flex-grow: 1;\n`\nconst Loading: React.FC = () => {\n  return (\n    <Wrapper>加载中...</Wrapper>\n  );\n};\n\nexport {Loading};\n","import styled from 'styled-components';\n\nexport const Stretch = styled.div`\n  display:flex;\n  flex-direction: column;\n  justify-content: stretch;\n`;\n","import styled from 'styled-components';\n\nexport const Padding = styled.div`\n  padding: 16px;\n`;\n","import React from 'react';\nimport swr, {useSWRPages} from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {Item} from './Shops.styled';\nimport {Link} from 'react-router-dom';\nimport {Img} from '../components/Img';\nimport westore from '../images/westore.svg';\nimport Icon from '../components/Icon';\nimport {Loading} from '../components/Loading';\nimport {Stretch} from '../components/Stretch';\nimport styled from 'styled-components';\nimport {history} from '../lib/history';\nimport {Padding} from '../components/Padding';\n\n\nconst Wrapper = styled.div`\n  background: white;\n  &:empty{\n    display:none;\n  }\n`;\n\n\nexport const List: React.FC = () => {\n  const {\n    pages, loadMore, isReachingEnd, isEmpty, isLoadingMore\n  } = useSWRPages<number | null, PagedResources<Shop>>(\n    'shops',\n    ({offset, withSWR}) => {\n      offset = offset || 0;\n      const {data: response} = withSWR(swr(['/shop', offset + 1, 10], async (url, pageNum, pageSize) => {\n        return (await defaultHttpClient.get<PagedResources<Shop>>(url, {\n          params: {pageNum, pageSize},\n          autoHandlerError: true\n        })).data;\n      }));\n\n      if (!response) return <Loading/>;\n\n      return response.data.map(shop => (\n        <Item key={shop.id}>\n          <Link to={`/admin/shops/${shop.id}`}>\n            <Img src={shop.imgUrl} fallbackSrc={westore}/>\n            <span className=\"name oneLine\">{shop.name}</span>\n            <Icon name=\"right\"/>\n          </Link>\n        </Item>\n      ));\n    },\n    (SWR, index) => {\n      return (SWR.data && SWR.data.pageNum < SWR.data.totalPage) ? index + 1 : null;\n    },\n    []\n  );\n  return <>\n    <Wrapper>\n      {pages}\n    </Wrapper>\n    {isEmpty ?\n      <Center>\n        <Space/>尚未创建店铺<Space/>\n        <MainButton onClick={() => history.push(`/admin/shops/new`)}>创建新的店铺</MainButton>\n        <Space/>\n      </Center>\n      :\n      <Padding>\n        <Stretch>\n          {isReachingEnd ?\n            <Center>没有更多了</Center> :\n            isLoadingMore ? null :\n              <MainButton onClick={() => loadMore()}>加载更多</MainButton>\n          }\n        </Stretch>\n      </Padding>\n    }\n  </>;\n};\n","import styled from 'styled-components';\nimport {Link, NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\nimport vars from '_vars.scss';\n\nconst NavWrapper = styled.nav`\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  background: white;\n  display:flex;\n    > a{\n      width: 33.3333%;\n      text-align:center;\n      display: flex;\n      flex-direction: column;\n      padding: 8px 0 4px;\n      justify-content: center;\n      align-items: center;\n      .icon {\n        width: 24px;      \n        height: 24px;\n      }\n      &.active{\n        color: ${vars.colorMain};\n      }\n  }\n`;\n\nexport const AdminNav = () => {\n  return (\n    <NavWrapper>\n      <NavLink to=\"/admin/shops\" exact activeClassName=\"active\">\n        <Icon name=\"shop\"/>\n        <span>店铺</span>\n      </NavLink>\n      <NavLink to=\"/admin/orders\" exact activeClassName=\"active\">\n        <Icon name=\"order\"/>\n        <span>订单</span>\n      </NavLink>\n      <NavLink to=\"/me\" exact activeClassName=\"active\">\n        <Icon name=\"user\"/>\n        <span>个人</span>\n      </NavLink>\n    </NavWrapper>\n  );\n};\n\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport Icon from '../components/Icon';\nimport vars from '_vars.scss';\nimport {Link} from 'react-router-dom';\nimport {List} from './Shops.List';\nimport {AdminNav} from '../components/AdminNav';\n\n\nconst Shops: React.FC = () => {\n  return (\n    <Layout hasBack={false} title=\"店铺列表\" action={\n      <Link to=\"/admin/shops/new\">\n        <Icon name=\"add\" fill={vars.colorMain}/>\n      </Link>\n    } footer={<AdminNav/>}>\n      <List/>\n    </Layout>\n  );\n};\n\nexport {Shops};\n","import React from 'react';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\n\nconst Label = styled.label`\n  display:inline-flex;\n  flex-grow: 1;\n`;\nconst StyledInput = styled.input`\n  border: none;\n  background:#eeeeee;\n  border-radius: 4px;\n  height: 40px;\n  flex-grow: 1;\n  padding: 0 8px;\n`;\nconst Span = styled.span`\n  line-height: 40px;\n  padding: 0 8px;\n  background: #eeeeee;\n  border-top-left-radius: ${vars.borderRadius};\n  border-bottom-left-radius: ${vars.borderRadius};\n  + input{\n    border-top-left-radius:0;\n    border-bottom-left-radius:0;\n  }\n`;\n\ninterface Props extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n}\n\nconst Input: React.FC<Props> = (props) => {\n  const {children, label, ...rest} = props;\n  return (\n    <Label>\n      {label && <Span>{label}</Span>}\n      <StyledInput type=\"text\" {...rest}/>\n    </Label>\n  );\n};\n\nexport {Input};\n","export type RuleForValue = { message?: string } & (\n  | { required: boolean }\n  | { format: FormatOptions }\n  | { length: LengthOptions }\n  );\n\ntype FormatOptions = 'china phone' | 'email' | 'number' | 'float' | RegExp\ntype LengthOptions = (number | undefined)[]\n\n\nexport type RulesForFormData<T> = {\n  [K in keyof T]?: (RuleForValue)[]\n}\n\ninterface FormData {\n  [K: string]: unknown;\n}\n\ninterface ValidatorOptions<O = any> {\n  params: O;\n  value: string;\n  key: string;\n  message?: string;\n  formData: FormData;\n  callback: (error?: string) => void\n}\n\ninterface Validator<O = any> {\n  (options: ValidatorOptions<O>): void\n}\n\nconst translation = {\n  required: '必填',\n  format: '格式不正确',\n  length: '长度不符合要求'\n};\n\nconst required: Validator = ({message, value, callback}) => {\n  if (value === undefined || value === null || value === '') {\n    callback(message ?? translation['required']);\n  } else {\n    callback();\n  }\n};\nconst length: Validator = ({params, message, value, callback}) => {\n  const string = value.toString();\n  let [min, max] = params;\n  min = min ?? -Infinity;\n  max = max ?? Infinity;\n  if (string.length > max || string.length < min) {\n    callback(message ?? translation['length']);\n  } else {\n    callback();\n  }\n};\n\nconst format: Validator = ({params, message, value, callback}) => {\n  const string = value.toString();\n  const pattern = params instanceof RegExp ? params :\n    params === 'china phone' ? /1[\\d]{10}/ :\n      params === 'email' ? /.+@.+/ :\n        params === 'number' ? /\\d+/ :\n          params === 'float' ? /\\d+(.\\d+)?/ :\n            undefined as never;\n  if (pattern.test(string)) {\n    callback();\n  } else {\n    callback(message ?? translation['format']);\n  }\n};\n\nconst builtinValidators = {\n  required, length, format\n};\n\ntype BuiltinRuleName = keyof typeof builtinValidators\n\nconst isBuiltinRuleName = (ruleName: string): ruleName is BuiltinRuleName => {\n  return Object.keys(builtinValidators).includes(ruleName);\n};\n\nconst validate = <T extends FormData>(formData: T, rules: RulesForFormData<T>) => {\n  // 旧浏览器可能不支持 Object.entries\n  const errors = Object.keys(formData).map(key => {\n    const value = formData[key];\n    const rulesForValue = rules[key];\n    if (!rulesForValue) {return [];}\n    return rulesForValue.map(rule => {\n      const message = rule.message;\n      delete rule.message;\n      const [ruleName, params] = Object.entries(rule)[0];\n      return new Promise<[keyof T, string | undefined]>((resolve) => {\n        if (isBuiltinRuleName(ruleName)) {\n          builtinValidators[ruleName]({\n            params, key, formData, message,\n            value: value as string,\n            callback: error => resolve([key, error])\n          });\n        }\n      });\n    });\n  }).flat(1);\n  return Promise.all(errors).then((values) => {\n    return values.reduce((object, [key, value]) => {\n      if (value === undefined) {return object;}\n      if (!(key in object)) {\n        object[key] = [value];\n      } else {\n        object[key]!.push(value);\n      }\n      return object;\n    }, {} as { [K in keyof T]?: (string)[] });\n  }).then(values => Object.keys(values).length === 0 ? null : values);\n};\n\nexport {validate};\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {SizedButton} from './SizedButton';\n\nconst MinorButton = styled(SizedButton)`\n  border: 1px solid ${vars.colorMain};\n  border-radius: ${vars.borderRadius};\n  background: transparent;\n  color: ${vars.colorMain};\n  position:relative;\n  &[disabled]{\n    border-color:#999;\n    color: #999;\n  }\n`;\n\nexport {MinorButton};\n","import React from 'react';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\n\ntype Props = {\n  value?: string\n}\nconst Wrapper = styled.div`\n  font-size: 12px;\n  padding: 0 8px;\n  color: ${vars.colorDanger}\n`;\nconst InputError: React.FC<Props> = (props) => {\n  return props.value ?\n    <Wrapper>\n      {props.value}\n    </Wrapper>\n    : null;\n};\n\nexport {InputError};\n","import styled from 'styled-components';\nimport React, {InputHTMLAttributes, PropsWithChildren, useState, Fragment} from 'react';\nimport {Input} from './Input';\nimport {RuleForValue, RulesForFormData, validate} from '../lib/validate';\nimport {InputError} from './InputError';\n\nexport const Form = styled.form`\n  padding: 16px;\n  background: white;\n  > h1{\n    font-size: 18px;\n    margin-bottom: 8px;\n    &:empty{display:none;}\n  }\n  > .fields{ }\n  > footer{\n    margin-bottom: 32px;\n  }\n`;\n\ninterface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>,\n  'value' | 'onChange' | 'defaultValue'> {\n  label?: string;\n}\n\ninterface Transform {\n  in: (string: string) => string | number,\n  out: (value: string | number) => string\n}\n\ntype Props<T = any> = (\n  | { data: T; onChange: (data: T) => void; }\n  | { defaultData: T; })\n  & {\n  title?: string;\n  fields: {\n    key: keyof T;\n    input: InputProps;\n    rules?: RuleForValue[];\n    transform?: Transform;\n  }[];\n  onSubmit?: (data: T) => void;\n}\n\nexport function F<T extends { [K: string]: any }>(props: PropsWithChildren<Props<T>>) {\n  const [_data, _setData] = useState<T | null>('defaultData' in props ? props.defaultData : null);\n  const [errors, setErrors] = useState<ErrorsFor<T> | null>(null);\n  const getData = () => 'defaultData' in props ? _data : props.data;\n  const patchData = (key: keyof T, v: string, transform?: Transform) => {\n    const fn = 'defaultData' in props ? _setData : props.onChange;\n    const item = transform ? transform.in(v) : v;\n    const value = {...getData(), [key]: item} as T;\n    fn(value);\n  };\n  const getRules = () => {\n    return props.fields.reduce((object, field) => ({...object, [field.key]: field.rules}),\n      {} as RulesForFormData<T>);\n  };\n  const getValue = (key: keyof T, transform?: Transform) => {\n    const data = getData();\n    if (transform && data && data[key] !== undefined) {\n      return transform.out(data[key]) ?? '';\n    } else {\n      return data?.[key] ?? '';\n    }\n  };\n\n  const submit: React.FormEventHandler = async (e) => {\n    e.preventDefault();\n    const data = getData()!;\n    const rules = getRules();\n    const errors = await validate(data, rules);\n    setErrors(errors);\n    if (!errors) {\n      props.onSubmit?.(data);\n    }\n  };\n\n  return (\n    <Form onSubmit={submit}>\n      <h1>{props.title}</h1>\n      <div className=\"fields\">\n        {props.fields.map(field =>\n          <Fragment key={field.key.toString()}>\n            <FormRow>\n              <Input {...field.input} value={getValue(field.key, field.transform)}\n                onChange={e => {\n                  patchData(field.key, e.target.value, field.transform);\n                }}/>\n            </FormRow>\n            {errors?.[field.key] &&\n            <FormRow>\n              <InputError value={errors[field.key]?.[0]}/>\n            </FormRow>\n            }\n          </Fragment>\n        )}\n      </div>\n      {props.children &&\n      <footer>\n        {props.children}\n      </footer>}\n    </Form>\n  );\n}\n\nexport const FormRow = styled.div`\n  display:flex;\n  & + & {margin-top: 8px;}\n  > * + * { margin-left: 8px; }\n  &:empty{ display:block; }\n`;\n\n\n","import styled from 'styled-components';\nimport Icon from '../components/Icon';\nimport vars from '_vars.scss';\n\nexport const Logo = styled(Icon)`\n  width: 100px;\n  height: 100px;\n`;\nexport const Header = styled.header`\n  padding-top: 100px; \n  text-align:center;\n  margin-bottom: 16px;\n  .icon {\n    fill: ${vars.colorMain};\n  }\n  h1{margin-top: 0; font-size: 20px;}\n`;\nexport const Main = styled.div`\n\n`;\nexport const Wrapper = styled.div`\n  background:white;\n  min-height: 100vh;\n`;\n\n","import React, {useState} from 'react';\nimport {Input} from '../components/Input';\nimport {MainButton} from '../components/button/MainButton';\nimport {validate} from '../lib/validate';\nimport {useSendCodeButton} from '../hooks/useSendCodeButton';\nimport {Form, FormRow} from '../components/Form';\nimport {InputError} from '../components/InputError';\nimport {Header, Logo, Main, Wrapper} from './SignIn.styled';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {pathnameBeforeSignIn, history} from '../lib/history';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\n\nexport const SignIn: React.FC = () => {\n  const [formData, setFormData] = useState({tel: '', code: ''});\n  type Errors = ErrorsFor<typeof formData>\n  const [errors, setErrors] = useState<Errors>(null);\n  const onSubmit: React.FormEventHandler = async (e) => {\n    e.preventDefault();\n    const errors = await validate(formData, {\n      tel: [{required: true}, {format: 'china phone'}],\n      code: [{required: true}]\n    });\n    setErrors(errors);\n    if (errors) {return; }\n    await defaultHttpClient.post(`/login`, formData, {\n      autoHandlerError: (error) => ![400, 403].includes(error.response?.status)\n    }).then(null, (error) => {\n      switch (error.response?.status) {\n        case 400:\n          setErrors({tel: ['请求错误']});\n          break;\n        case 403:\n          setErrors({code: ['验证码错误或过期']});\n          break;\n      }\n      throw error;\n    });\n    history.push(pathnameBeforeSignIn.value || '/');\n    pathnameBeforeSignIn.value = '';\n  };\n  const {setCodeSent, sendCodeButton} = useSendCodeButton(async () => {\n    const errors = await validate({tel: formData.tel}, {\n      tel: [{required: true}, {format: 'china phone'}]\n    });\n    setErrors(errors);\n    if (!errors) {\n      await defaultHttpClient.post('/code', {tel: formData.tel}, {\n        autoHandlerError: (error) => error.response?.status !== 401\n      });\n      setCodeSent(true);\n    }\n  });\n  return (\n    <Wrapper>\n      <Header>\n        <Logo name=\"westore\"/>\n        <h1>小薇店铺</h1>\n      </Header>\n      <Main>\n        <Form onSubmit={onSubmit}>\n          <FormRow>\n            <Input type=\"text\" placeholder=\"手机号码\"\n              value={formData.tel}\n              onChange={(e) => {\n                setFormData({\n                  ...formData,\n                  tel: (e.target as HTMLInputElement).value\n                });\n              }}/>\n          </FormRow>\n          <FormRow>\n            <InputError value={errors?.tel?.[0]}/>\n          </FormRow>\n          <FormRow>\n            <Input type=\"text\" placeholder=\"验证码\"\n              value={formData.code}\n              onChange={(e) => {\n                setFormData({\n                  ...formData,\n                  code: (e.target as HTMLInputElement).value\n                });\n              }}/>\n            {sendCodeButton}\n          </FormRow>\n          <FormRow>\n            <InputError value={errors?.code?.[0]}/>\n          </FormRow>\n          <Space/>\n          <Space/>\n          <Center>\n            <MainButton type=\"submit\">登录</MainButton>\n          </Center>\n        </Form>\n      </Main>\n\n    </Wrapper>\n  );\n};\n\n\n","import {MinorButton} from '../components/button/MinorButton';\nimport React, {useEffect, useRef, useState} from 'react';\n\nconst useSendCodeButton = (sendCode: React.MouseEventHandler<HTMLButtonElement>) => {\n\n  const [countDown, setCountDown] = useState(10);\n  const timer = useRef<number | null>(null);\n  const [codeSent, setCodeSent] = useState(false);\n\n  useEffect(() => {\n    if (codeSent) {\n      setCountDown(10);\n      timer.current = window.setInterval(() => {\n        setCountDown(x => x - 1);\n      }, 1000);\n      return () => {\n        window.clearInterval(timer.current!);\n      };\n    }\n  }, [codeSent]);\n  useEffect(() => {\n    if (countDown <= 0) {\n      window.clearInterval(timer.current!);\n      setCodeSent(false);\n    }\n  }, [countDown]);\n  const sendCodeButton = codeSent\n    ? <MinorButton disabled>{countDown} 秒后可重试</MinorButton>\n    : <MinorButton onClick={sendCode}>发送验证码</MinorButton>;\n\n\n  return {sendCodeButton, setCodeSent};\n};\n\nexport {useSendCodeButton}\n","import React, {FormEvent, useState} from 'react';\nimport Layout from '../components/Layout';\nimport {Form, FormRow} from '../components/Form';\nimport {Input} from '../components/Input';\nimport styled from 'styled-components';\nimport {MainButton} from '../components/button/MainButton';\nimport {Stretch} from '../components/Stretch';\nimport {Space} from '../components/Space';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Loading} from '../components/Loading';\nimport {validate} from '../lib/validate';\nimport {InputError} from '../components/InputError';\nimport {showAlert} from '../components/Dialog';\nimport {history} from '../lib/history';\n\nconst MyForm = styled(Form)`\n  background:white;\n  padding: 16px;\n`;\n\nexport const ShopNew: React.FC = () => {\n  const [shop, setShop] = useState({\n    name: '',\n    description: '',\n    imgUrl: '',\n  });\n  const [errors, setErrors] = useState<ErrorsFor<typeof shop>>(null);\n  if (!shop) {return <Loading/>;}\n  const onSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const errors = await validate(shop, {\n      name: [{required: true}, {length: [2, 20]}],\n      description: [{required: true}, {length: [2, 100]}]\n    });\n    setErrors(errors);\n    if (!errors) {\n      await defaultHttpClient.post('/shop', shop, {autoHandlerError: true});\n      showAlert('创建成功', () => {\n        history.push('/admin/shops');\n      });\n    }\n  };\n  return (\n    <Layout title=\"创建店铺\">\n      <MyForm onSubmit={onSubmit}>\n        <FormRow>\n          <Input placeholder=\"* 店铺名称\" value={shop.name} onChange={(e) => {\n            setShop({...shop, name: e.target.value});\n          }}/>\n        </FormRow>\n        <FormRow>\n          <InputError value={errors?.name?.[0]}/>\n        </FormRow>\n        <FormRow>\n          <Input placeholder=\"* 店铺描述\" value={shop.description} onChange={e => {\n            setShop({...shop, description: e.target.value});\n          }}/>\n        </FormRow>\n        <FormRow>\n          <InputError value={errors?.description?.[0]}/>\n        </FormRow>\n        <FormRow>\n          <Input placeholder=\"店铺Logo，请填入图片网址\" value={shop.imgUrl} onChange={e => {\n            setShop({...shop, imgUrl: e.target.value});\n          }}/>\n        </FormRow>\n        <FormRow>\n          <InputError value={errors?.imgUrl?.[0]}/>\n        </FormRow>\n        <Stretch>\n          <Space/>\n          <Space/>\n          <MainButton type=\"submit\">提交</MainButton>\n        </Stretch>\n        <FormRow>\n          <div>* 表示必填</div>\n        </FormRow>\n      </MyForm>\n    </Layout>\n  );\n};\n","import React, {ReactNode} from 'react';\nimport Layout from '../components/Layout';\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\nimport westore from '../images/westore.svg';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\n\nconst Summary = styled.div`\n  display:flex; justify-content: space-between; background: white;\n  margin-top: 8px; padding: 16px; \n  figure{\n    width: 64px; height: 64px; display:flex; justify-content: center; align-items: center;\n    flex-shrink: 0; margin-right: 16px; border: 1px solid ${vars.colorBorder}; \n    border-radius: 4px; overflow: hidden;\n    img{ max-width: 100%; max-height: 100%;}  \n  } \n  article{\n    flex-grow: 1;\n    h1{\n      font-size: 24px;\n      line-height: 1em;\n      margin-bottom: 8px;\n    }\n    p{\n      line-height: 24px;\n      color: ${vars.colorText3};\n      max-height: 72px;\n      overflow: hidden;\n      display: -webkit-box;   \n      -webkit-line-clamp: 3;   \n      -webkit-box-orient: vertical;     \n      &.open{\n        max-height: none;\n        display:block;\n      }\n    }\n  }\n`;\n\ninterface Props extends RouteComponentProps<{ id: string }> {\n  shop?: Shop;\n  action?: ReactNode;\n  title: string;\n  footer?: ReactNode;\n}\n\nconst _Shop: React.FC<Props> = ({shop, title, action, children, footer}) => {\n  return (\n    <Layout title={title} action={action} footer={footer}>\n      <Summary>\n        <figure>\n          <img src={westore} alt=\"\"/>\n        </figure>\n        <article>\n          <h1>{shop?.name ?? ' '}</h1>\n          <p>{shop?.description ?? ''}</p>\n        </article>\n      </Summary>\n\n\n      {children}\n    </Layout>\n  );\n};\n\nexport const ShopLayout = withRouter(_Shop);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  position:relative;\n  height: 0;\n  padding-top: 100%;\n  > div{\n    position:absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    img {max-width: 100%; max-height: 100%;}\n  }\n`;\n\ninterface Props {\n  ratio?: number;\n}\n\nconst ShapedDiv: React.FC<Props> = (props) => {\n  const {children, ratio} = props;\n  const paddingTop = ratio! * 100 + '%';\n\n  return (\n    <Wrapper style={{paddingTop}}>\n      <div>\n        {children}\n      </div>\n    </Wrapper>\n  );\n};\n\n\nShapedDiv.defaultProps = {\n  ratio: 1\n};\n\nexport {ShapedDiv};\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface Props extends React.HTMLAttributes<HTMLSpanElement> {\n  children: string | number;\n}\n\nconst Unit = styled.span`\n  font-size: 0.8em;\n`;\n\nexport const numberToMoney = (number: number) => (number / 100).toFixed(2)\n  .replace(/\\.00$/g, '');\nexport const moneyToNumber = (money: string) => Math.round((parseFloat(money) || 0) * 100);\n\nconst toHuman = (number: number) => {\n  if (Number.isNaN(number)) {\n    return '无效';\n  } else {\n    return <>\n      <Unit>￥</Unit>\n      <span>{numberToMoney(number)}</span>\n    </>;\n  }\n};\nexport const Money: React.FC<Props> = (props) => {\n  const {children, ...rest} = props;\n  const number = parseInt(children.toString());\n  if (Number.isNaN(number)) {\n    console?.error?.(`${children} is not a number`);\n  }\n  return (\n    <span {...rest}>{toHuman(number)}</span>\n  );\n};\n\n","import styled from 'styled-components';\n\nexport const Name = styled.h3`\n  font-size: 18px; line-height: 24px; height: 48px; overflow: hidden; display: -webkit-box;   \n  -webkit-line-clamp: 2; -webkit-box-orient: vertical; \n  word-break: break-all;\n`;\n","import useSWR from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\n\nexport const useShop = (id: string | number) => {\n\n  const {data: shop, mutate, error} = useSWR(`/shop/${id}`, async (key) => {\n    const response = await defaultHttpClient.get<Resource<Shop>>(key, {\n      autoHandlerError: true\n    });\n    return response.data.data;\n  });\n\n  return {shop, mutate, error};\n};\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\n\nconst Wrapper = styled.ol`\n  background: white;\n  font-size: 18px;\n  display:flex;\n  > li{\n    flex-grow: 1;\n    > a{\n      height: ${vars.heightTab};\n      display:flex;\n      justify-content: center;\n      align-items: center;\n      position:relative;\n      &.active::after{\n        content: '';\n        display:block;\n        height: 3px;\n        position:absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        background: ${vars.colorMain}; \n      }\n    }\n  }\n`;\n\ninterface Props {\n  shop?: Shop\n}\n\nexport const Tabs: React.FC<Props> = (props) => {\n  const {shop} = props;\n  return (\n    shop ?\n      <Wrapper>\n        <li>\n          <NavLink exact to={`/admin/shops/${shop.id}`} activeClassName=\"active\">\n            商品\n          </NavLink>\n        </li>\n        <li>\n          <NavLink exact to={`/admin/shops/${shop.id}/edit`} activeClassName=\"active\">\n            设置\n          </NavLink>\n        </li>\n      </Wrapper>\n      :\n      <Wrapper>\n        <li>\n          <a>\n            商品\n          </a>\n        </li>\n        <li>\n          <a>\n            设置\n          </a>\n        </li>\n      </Wrapper>\n  );\n};\n","import React from 'react';\nimport {Link, RouteComponentProps, withRouter} from 'react-router-dom';\nimport {ShopLayout} from './Shop.Layout';\nimport swr, {useSWRPages} from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Loading} from '../components/Loading';\nimport {Stretch} from '../components/Stretch';\nimport styled from 'styled-components';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport {Img} from '../components/Img';\nimport {Money} from '../components/Money';\nimport vars from '_vars.scss';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {history} from '../lib/history';\nimport {Center} from '../components/Center';\nimport {Padding} from '../components/Padding';\nimport {Name} from '../components/Name';\nimport {useShop} from '../hooks/useShop';\nimport {Tabs} from './AdminShop.Tabs';\nimport Icon from '../components/Icon';\n\n\nconst List = styled.div`\n  padding: 16px;\n  display:flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  &:empty{\n    display:none;\n  }\n`;\nconst Item = styled(Link)`\n  display:block; width: calc(50% - 8px); background:white; margin-bottom: 16px;\n  border-radius: ${vars.borderRadius}; overflow: hidden;\n  h3{padding: 0 8px;}\n  p{ padding: 0 8px 8px; font-size: 18px; color: ${vars.colorDanger}; }\n`;\nconst _Shop: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const shopId = props.match.params.id;\n  const {shop} = useShop(shopId);\n  const {\n    pages, loadMore, isReachingEnd, isEmpty, isLoadingMore\n  } = useSWRPages<number | null, PagedResources<Good>>(\n    'shops',\n    ({offset, withSWR}) => {\n      offset = offset || 0;\n      const {data: response} = withSWR(swr(['/goods', shopId, offset + 1, 10], async (url, shopId, pageNum, pageSize) => {\n        return (await defaultHttpClient.get<PagedResources<Good>>(url, {\n          params: {pageNum, pageSize, shopId},\n          autoHandlerError: true\n        })).data;\n      }));\n\n      if (!response) return <Loading/>;\n\n      return response.data.map(good => (\n        <Item key={good.id} to={`/admin/shops/${shopId}/goods/${good.id}`}>\n          <ShapedDiv>\n            <Img src={good.imgUrl} alt=\"\"/>\n          </ShapedDiv>\n          <Name>{good.name}</Name>\n          <p><Money>{good.price}</Money></p>\n        </Item>\n      ));\n    },\n    (SWR, index) => {\n      return SWR.data?.totalPage && SWR.data?.totalPage > 0 && SWR.data?.pageNum < SWR.data?.totalPage ?\n        index + 1 :\n        null;\n    },\n    []\n  );\n  return (\n    <ShopLayout shop={shop} title=\"店铺管理\" action={\n      shop &&\n      <Link to={`/admin/shops/${shop.id}/goods/new`}>\n        <Icon name=\"add\"/>\n      </Link>\n    }>\n      <Space/>\n      <Tabs shop={shop}/>\n      <List>\n        {pages}\n      </List>\n      {isEmpty ?\n        <Center>\n          <Space/>尚未创建商品<Space/>\n          <MainButton onClick={() => history.push(`/admin/shops/${shopId}/goods/new`)}>创建新的商品</MainButton>\n          <Space/>\n        </Center>\n        :\n        <Padding>\n          <Stretch>\n            {isReachingEnd ?\n              <Center>没有更多了</Center> :\n              isLoadingMore ? null :\n                <MainButton onClick={() => loadMore()}>加载更多</MainButton>\n            }\n          </Stretch>\n        </Padding>\n      }\n    </ShopLayout>\n  );\n};\n\nexport const AdminShop = withRouter(_Shop);\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {UnstyledButton} from './UnstyledButton';\n\nconst DangerButton = styled(UnstyledButton)`\n  white-space: nowrap;\n  height: 40px;\n  border: none;\n  padding: 0 16px;\n  border-radius: ${vars.borderRadius};\n  flex-grow: 1;\n  background: ${vars.colorDanger};\n  color: white;\n  font-size: 18px;\n  &[disabled]{\n    background:#999;\n  }\n`;\n\nexport {DangerButton};\n","import styled from 'styled-components';\nimport vars from '_vars.scss';\n\nexport const Panel = styled.div`\n  padding: 16px;\n  margin: 16px 0;\n  background: white;\n  > h1, > h2, > h3, >h4, >h5, > h6 {\n    font-size: 18px;\n    margin-bottom: 8px;\n  }\n  > footer{\n    border-top: 1px solid ${vars.colorBorder};\n    padding-top: 16px;\n    display:flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n`;\n","import React, {useEffect, useRef} from 'react';\nimport {Link, RouteComponentProps, withRouter} from 'react-router-dom';\nimport {ShopLayout} from './Shop.Layout';\nimport {F} from '../components/Form';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {Stretch} from '../components/Stretch';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Loading} from '../components/Loading';\nimport {showAlert} from '../components/Dialog';\nimport {DangerButton} from '../components/button/DangerButton';\nimport {history} from '../lib/history';\nimport {useShop} from '../hooks/useShop';\nimport {Panel} from '../components/Panel';\nimport {QRCode} from 'lib/qrcode.js';\nimport styled from 'styled-components';\nimport {config} from 'config';\nimport {Tabs} from './AdminShop.Tabs';\nimport Icon from '../components/Icon';\n\nconst {origin} = config;\n\nconst QRCodeWrapper = styled.div`\n  width: 128px; \n  height: 128px; \n  margin: 16px auto;\n`;\n\nconst _ShopEdit: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const {shop, mutate} = useShop(props.match.params.id);\n  const shopId = shop?.id;\n  const qrcodeRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (!qrcodeRef.current) {return;}\n    var qrcode = new QRCode(qrcodeRef.current, {\n      text: `${origin}/shops/${shopId}`,\n      width: 128,\n      height: 128,\n      colorDark: '#000',\n      colorLight: '#FFF',\n      correctLevel: QRCode.CorrectLevel.H\n    });\n    return () => {\n      qrcode.clear();\n    };\n  }, [shopId]);\n  if (!shop) {return <Loading/>;}\n\n  const updateShop = async (data: typeof shop) => {\n    await defaultHttpClient.patch(`/shop/${props.match.params.id}`, data, {autoHandlerError: true});\n    showAlert('更新成功');\n    mutate(data);\n  };\n  const deleteShop = async (id: number) => {\n    await defaultHttpClient.delete(`/shop/${id}`);\n    showAlert('删除成功', () => {\n      history.push('/admin/shops');\n    });\n  };\n  const openShop = () => {\n    history.push(`/shops/${shopId}`);\n  };\n  return (\n    <ShopLayout shop={shop} title=\"店铺管理\" action={\n      shop &&\n      <Link to={`/admin/shops/${shop.id}/goods/new`}>\n        <Icon name=\"add\"/>\n      </Link>\n    }>\n      <Space/>\n      <Tabs shop={shop}/>\n      <Space/>\n      <F title=\"店铺信息\"\n        defaultData={shop} fields={[\n        {key: 'name', input: {placeholder: '* 店铺名称'}, rules: [{required: true}]},\n        {key: 'description', input: {placeholder: '* 店铺描述'}, rules: [{required: true}]},\n        {key: 'imgUrl', input: {placeholder: '店铺Logo'}},\n      ]} onSubmit={updateShop}>\n        <Stretch>\n          <MainButton type=\"submit\">保存</MainButton>\n        </Stretch>\n      </F>\n\n      <Panel>\n        <h1>预览</h1>\n        <QRCodeWrapper ref={qrcodeRef}/>\n        <Stretch>\n          <MainButton onClick={openShop}>打开店铺</MainButton>\n        </Stretch>\n      </Panel>\n\n      <Panel>\n        <h1>其他设置</h1>\n        <Stretch>\n          <DangerButton onClick={() => deleteShop(shop.id)}>删除店铺</DangerButton>\n        </Stretch>\n      </Panel>\n    </ShopLayout>\n  );\n};\n\nexport const AdminShopEdit = withRouter(_ShopEdit);\n","export const config = {\n  origin: 'http://localhost:3000'\n};\n","import React, {useState} from 'react';\nimport Layout from '../components/Layout';\nimport {F} from '../components/Form';\nimport {MainButton} from '../components/button/MainButton';\nimport {Stretch} from '../components/Stretch';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\nimport {showAlert} from '../components/Dialog';\nimport {history} from '../lib/history';\nimport {moneyToNumber, numberToMoney} from '../components/Money';\n\nconst _GoodNew: React.FC<RouteComponentProps<{ shopId: string }>> = (props) => {\n  const {shopId} = props.match.params;\n  const [formData] = useState<Partial<Good>>({\n    name: '',\n    description: '',\n    imgUrl: '',\n    stock: undefined,\n    price: undefined,\n    shopId: parseInt(shopId)\n  });\n  const submit = async (v: typeof formData) => {\n    await defaultHttpClient.post('/goods', v, {autoHandlerError: true});\n    showAlert('创建成功', () => {\n      history.push(`/admin/shops/${shopId}`);\n    });\n  };\n  return (\n    <Layout title=\"新增商品\">\n      <F onSubmit={submit} title=\"商品详情\" defaultData={formData} fields={[\n        {key: 'name', input: {placeholder: '* 标题'}, rules: [{required: true}]},\n        {\n          key: 'price',\n          input: {placeholder: '* 价格'},\n          rules: [{required: true}],\n          transform: {\n            in: s => moneyToNumber(s),\n            out: value => numberToMoney(value as number)\n          }\n        },\n        {key: 'stock', input: {placeholder: '* 库存'}, rules: [{required: true}]},\n        {key: 'description', input: {placeholder: '副标题'}},\n        {key: 'details', input: {placeholder: '详细描述'}},\n        {key: 'imgUrl', input: {placeholder: '图片'}},\n        {key: 'shopId', input: {type: 'hidden'}}\n      ]}>\n        <Stretch>\n          <MainButton type=\"submit\">提交</MainButton>\n        </Stretch>\n      </F>\n    </Layout>\n  );\n};\n\nexport const GoodNew = withRouter(_GoodNew);\n","import useSWR from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\n\nexport const useGood = (id: string | number) => {\n\n  const {data: good, mutate} = useSWR(`/goods/${id}`, async (key) => {\n    const response = await defaultHttpClient.get<Resource<Good>>(key, {autoHandlerError: true});\n    return response.data.data;\n  });\n\n  return {good, mutate};\n};\n","import React, {useRef} from 'react';\nimport {withRouter, RouteComponentProps, Link} from 'react-router-dom';\nimport Layout from '../components/Layout';\nimport Icon from '../components/Icon';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport {Img} from '../components/Img';\nimport {Loading} from '../components/Loading';\nimport styled from 'styled-components';\nimport {Panel} from '../components/Panel';\nimport {useGood} from '../hooks/useGood';\nimport {Money} from '../components/Money';\nimport vars from '_vars.scss';\nimport {Space} from '../components/Space';\nimport {CartBar} from '../components/CartBar';\n\nconst Cover = styled.div`\n  background:white;\n`;\nconst Price = styled.p`\n  font-size: 18px;\n  color: ${vars.colorDanger};\n`;\n\nconst _Good: React.FC<RouteComponentProps<{ shopId: string, id: string }>> = (props) => {\n  const {shopId, id} = props.match.params;\n  const {good} = useGood(id);\n  const cover = useRef<HTMLDivElement>(null);\n  return (\n    <Layout title={'商品详情'} action={\n      <Link to={`/admin/shops/${shopId}/goods/${id}/edit`}><Icon name=\"edit\"/></Link>\n    }>\n      {good ?\n        <>\n          <Cover ref={cover}>\n            <ShapedDiv>\n              <Img src={good.imgUrl} alt=\"\"/>\n            </ShapedDiv>\n          </Cover>\n\n\n          <Panel>\n            <h1>{good.name}</h1>\n            <Price><Money>{good.price}</Money></Price>\n          </Panel>\n\n          <Panel>\n            <h2>详情</h2>\n            <p>\n              <strong>{good.description}</strong>\n            </p>\n            <p>\n              {good.details}\n            </p>\n          </Panel>\n\n          <Space/>\n          <Space/>\n          <Space/>\n          <Space/>\n\n        </>\n        :\n        <Loading/>\n      }\n    </Layout>\n\n  );\n};\n\nexport const AdminGood = withRouter(_Good);\n","import React, {useState} from 'react';\nimport Layout from '../components/Layout';\nimport {F} from '../components/Form';\nimport {MainButton} from '../components/button/MainButton';\nimport {Stretch} from '../components/Stretch';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\nimport {useGood} from '../hooks/useGood';\nimport {Loading} from '../components/Loading';\nimport {showAlert} from '../components/Dialog';\nimport {Panel} from '../components/Panel';\nimport {DangerButton} from '../components/button/DangerButton';\nimport {history} from '../lib/history';\nimport {moneyToNumber, numberToMoney} from '../components/Money';\n\nconst _GoodEdit: React.FC<RouteComponentProps<{ id: string, shopId: string }>> = (props) => {\n  const goodId = props.match.params.id;\n  const shopId = props.match.params.shopId;\n  const {good, mutate} = useGood(goodId);\n  const submit = async (v: typeof good) => {\n    await defaultHttpClient.patch(`/goods/${v!.id}`, {...v, id: undefined}, {autoHandlerError: true});\n    showAlert('更新成功');\n  };\n  if (!good) {\n    return <Loading/>;\n  }\n  const remove = async () => {\n    await defaultHttpClient.delete(`/goods/${goodId}`, {autoHandlerError: true});\n    showAlert('删除成功', () => {\n      history.push(`/admin/shops/${shopId}`);\n    });\n  };\n  return (\n    <Layout title=\"商品详情\">\n      <F onSubmit={submit} title=\"商品详情\" defaultData={good} fields={[\n        {key: 'name', input: {placeholder: '* 标题'}, rules: [{required: true}]},\n        {\n          key: 'price', input: {placeholder: '* 价格'}, rules: [{required: true}],\n          transform: {\n            in: s => moneyToNumber(s),\n            out: value => numberToMoney(value as number)\n          }\n        },\n        {key: 'stock', input: {placeholder: '* 库存'}, rules: [{required: true}]},\n        {key: 'description', input: {placeholder: '副标题'}},\n        {key: 'details', input: {placeholder: '详细描述'}},\n        {key: 'imgUrl', input: {placeholder: '图片'}},\n        {key: 'shopId', input: {type: 'hidden'}}\n      ]}>\n        <Stretch>\n          <MainButton type=\"submit\">提交</MainButton>\n        </Stretch>\n      </F>\n\n      <Panel>\n        <h2>高级操作</h2>\n        <Stretch>\n          <DangerButton onClick={remove}>删除商品</DangerButton>\n        </Stretch>\n      </Panel>\n    </Layout>\n  );\n};\n\nexport const GoodEdit = withRouter(_GoodEdit);\n","import useSWR from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\n\nexport const useCart = () => {\n  const {data: cart, error, mutate, isValidating} = useSWR('/shoppingCart', async (url) => {\n    return (await defaultHttpClient.get<PagedResources<Cart>>(url, {\n      params: {pageSize: 100, pageNum: 1},\n      autoHandlerError: true\n    })).data.data;\n  });\n  const updateShopCart = (shopId: number, shop: Shop, goods: (Good & { number: number })[]) => {\n    if (!cart) {return;}\n    const index = cart.findIndex(({shop}) => shop.id === shopId);\n    mutate([...cart.slice(0, index), {shop, goods}, ...cart.slice(index)]);\n  };\n  return {\n    cart, error, updateShopCart, isValidating\n  };\n};\n","export const getAmount = (goods: (Good & { number: number })[]) => {\n  return goods.reduce((sum, good) => {\n    sum += good.price * good.number;\n    return sum;\n  }, 0);\n};\n","import styled from 'styled-components';\n\nexport const GoodsList = styled.div`\n  margin-top: 16px;\n  &:empty{display:none;} \n`;\n","import styled from 'styled-components';\nimport vars from \"_vars.scss\";\n\nexport const OrderItem = styled.div`\n  margin-bottom: 16px;\n  display:flex;\n  > .cover{\n    width: 80px; border: 1px solid ${vars.colorBorder}; border-radius: ${vars.borderRadius};\n    margin-right: 16px;\n  } \n  > .text{\n    display:flex; \n    flex-direction: column;\n    justify-content: space-between;\n    position:relative;\n    flex-grow: 1;\n  }\n  .money{\n    font-size: 18px; color: ${vars.colorDanger};\n  }\n`;\n","import styled from 'styled-components';\nimport {Link, NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\nimport vars from '_vars.scss';\n\nconst NavWrapper = styled.nav`\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\n  background: white;\n  display:flex;\n    > a{\n      width: 33.3333%;\n      text-align:center;\n      display: flex;\n      flex-direction: column;\n      padding: 8px 0 4px;\n      justify-content: center;\n      align-items: center;\n      .icon {\n        width: 24px;      \n        height: 24px;\n      }\n      &.active{\n        color: ${vars.colorMain};\n      }\n  }\n`;\n\nexport const Nav = () => {\n  return (\n    <NavWrapper>\n      <NavLink to=\"/orders\" exact activeClassName=\"active\">\n        <Icon name=\"order\"/>\n        <span>订单</span>\n      </NavLink>\n      <NavLink to=\"/cart\" exact activeClassName=\"active\">\n        <Icon name=\"cart\"/>\n        <span>购物车</span>\n      </NavLink>\n      <NavLink to=\"/me\" exact activeClassName=\"active\">\n        <Icon name=\"user\"/>\n        <span>个人</span>\n      </NavLink>\n    </NavWrapper>\n  );\n};\n\n","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport {useCart} from '../hooks/useCart';\nimport {Loading} from '../components/Loading';\nimport styled from 'styled-components';\nimport {Panel} from '../components/Panel';\nimport {Img} from '../components/Img';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport vars from '_vars.scss';\nimport {Money} from '../components/Money';\nimport {Name} from '../components/Name';\nimport {MainButton} from '../components/button/MainButton';\nimport {MinorButton} from '../components/button/MinorButton';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Link} from 'react-router-dom';\nimport {getAmount} from '../lib/getAmount';\nimport {showAlert} from '../components/Dialog';\nimport {GoodsList} from '../components/GoodsList';\nimport {OrderItem} from '../components/OrderItem';\nimport {Nav} from '../components/Nav';\n\nconst Amount = styled.span`\n  flex-grow: 1;\n`;\nconst Footer = styled.footer`\n  .order{\n    flex-grow: 0;\n  }\n`;\nconst Remove = styled(MinorButton)`\n  position:absolute; right: 0; bottom: 0;\n`;\nexport const Cart: React.FC = (props) => {\n  const {cart, updateShopCart} = useCart();\n  const [edit, setEdit] = useState(false);\n  const toggleEdit = () => {\n    setEdit(x => !x);\n  };\n  const remove = async (shopId: number, goodId: number) => {\n    const response = await defaultHttpClient.delete<Resource<{ shop: Shop, goods: (Good & { number: number })[] }>>(\n      `/shoppingCart/${goodId}`, {autoHandlerError: true});\n    const {shop, goods} = response.data.data;\n    updateShopCart(shopId, shop, goods);\n  };\n  return (\n    <Layout title=\"购物车\" action={\n      <span onClick={toggleEdit}>{edit ? '取消' : '编辑'}</span>\n    } footer={<Nav/>}>\n      {cart ?\n        cart.map(({shop, goods}) => (\n          <Panel key={shop.id}>\n            <h2><Link to={`/shops/${shop.id}`}>{shop.name}</Link></h2>\n            <GoodsList>\n              {goods.map(g => <OrderItem key={g.id}>\n                <div className=\"cover\">\n                  <ShapedDiv>\n                    <Img src={g.imgUrl}/>\n                  </ShapedDiv>\n                </div>\n                <div className=\"text\">\n                  <Name>{g.name}</Name>\n                  <p><Money className=\"money\">{g.price}</Money></p>\n                  {edit && <Remove size=\"small\" onClick={() => remove(shop.id, g.id)}>删除</Remove>}\n                </div>\n              </OrderItem>)}\n            </GoodsList>\n            <Footer>\n              <Amount>\n                总计：<Money>{getAmount(goods)}</Money>\n              </Amount>\n              <Link to={`/orders/new?shopId=${shop.id}`}>\n                <MainButton className=\"order\">结算</MainButton>\n              </Link>\n            </Footer>\n          </Panel>\n        ))\n        :\n        <Loading/>\n      }\n    </Layout>\n  );\n};\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport {MainButton} from '../components/button/MainButton';\nimport {Padding} from '../components/Padding';\nimport {Stretch} from '../components/Stretch';\nimport {Form, FormRow} from '../components/Form';\nimport {Input} from '../components/Input';\nimport {Space} from '../components/Space';\nimport useSWR from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Loading} from '../components/Loading';\nimport {showAlert} from '../components/Dialog';\nimport {history, pathnameBeforeSignIn} from '../lib/history';\nimport {Center} from '../components/Center';\nimport {AdminNav} from 'components/AdminNav';\nimport {Nav} from '../components/Nav';\n\nexport const Me: React.FC = () => {\n  const {data} = useSWR('/status', async (url) =>\n    (await defaultHttpClient.get<{ login: boolean; user: User }>(url, {autoHandlerError: true})).data\n  );\n\n  if (!data) {return <Loading/>;}\n  const {login, user} = data;\n\n  if (!login) {\n    return (\n      <Padding>\n        <Center>\n          <MainButton onClick={() => {\n            pathnameBeforeSignIn.value = history.location.pathname;\n            history.push('/sign_in');\n          }}>请先登录</MainButton>\n        </Center>\n      </Padding>\n    );\n  }\n\n\n  const signOut = async () => {\n    await defaultHttpClient.post(`/logout`, null, {autoHandlerError: true});\n    showAlert('登出成功', () => {\n      history.push('/sign_in');\n    });\n  };\n  return (\n    <Layout title=\"个人页面\" footer={<Nav/>} hasBack={false}>\n      <Space/>\n      {user ?\n        <>\n          <Form>\n            <h1>个人信息</h1>\n            <FormRow>\n              <Input label=\"手机号码\" value={user.tel} readOnly={true}/>\n            </FormRow>\n          </Form>\n          <Padding>\n            <Stretch>\n              <MainButton onClick={signOut}>登出</MainButton>\n            </Stretch>\n          </Padding>\n        </>\n        :\n        <Loading/>\n      }\n    </Layout>\n  );\n};\n","import React from 'react';\nimport {Link, RouteComponentProps, withRouter} from 'react-router-dom';\nimport {ShopLayout} from './Shop.Layout';\nimport swr, {useSWRPages} from 'swr';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Loading} from '../components/Loading';\nimport {Stretch} from '../components/Stretch';\nimport styled from 'styled-components';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport {Img} from '../components/Img';\nimport {Money} from '../components/Money';\nimport vars from '_vars.scss';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {Center} from '../components/Center';\nimport {Padding} from '../components/Padding';\nimport {Name} from '../components/Name';\nimport {useShop} from '../hooks/useShop';\nimport {AdminNav} from '../components/AdminNav';\nimport {Nav} from '../components/Nav';\n\n\nconst List = styled.div`\n  padding: 16px;\n  display:flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  &:empty{\n    display:none;\n  }\n`;\nconst Item = styled(Link)`\n  display:block; width: calc(50% - 8px); background:white; margin-bottom: 16px;\n  border-radius: ${vars.borderRadius}; overflow: hidden;\n  h3{padding: 0 8px;}\n  p{ padding: 0 8px 8px; font-size: 18px; color: ${vars.colorDanger}; }\n`;\nconst _Shop: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const shopId = props.match.params.id;\n  const {shop, error} = useShop(shopId);\n  const {\n    pages: goods, loadMore, isReachingEnd, isEmpty, isLoadingMore\n  } = useSWRPages<number | null, PagedResources<Good>>(\n    'shops',\n    ({offset, withSWR}) => {\n      offset = offset || 0;\n      const {data: response} = withSWR(swr(['/goods', shopId, offset + 1, 10], async (url, shopId, pageNum, pageSize) => {\n        return (await defaultHttpClient.get<PagedResources<Good>>(url, {\n          params: {pageNum, pageSize, shopId}, autoHandlerError: true\n        })).data;\n      }));\n\n      if (!response) return <Stretch><Loading/></Stretch>;\n\n      return response.data.map(good => (\n        <Item key={good.id} to={`/shops/${shopId}/goods/${good.id}`}>\n          <ShapedDiv>\n            <Img src={good.imgUrl} alt=\"\"/>\n          </ShapedDiv>\n          <Name>{good.name}</Name>\n          <p><Money>{good.price}</Money></p>\n        </Item>\n      ));\n    },\n    (SWR, index) => {\n      return SWR.data?.totalPage && SWR.data?.totalPage > 0 && SWR.data?.pageNum < SWR.data?.totalPage ?\n        index + 1 :\n        null;\n    },\n    [shopId]\n  );\n  return (\n    <ShopLayout title=\"店铺详情\" shop={shop} footer={<Nav/>}>\n      <List>\n        {goods}\n      </List>\n      {isEmpty ?\n        <Center>\n          <Space/>\n          <Space/>\n          店铺正在准备上架商品，敬请期待\n        </Center>\n        :\n        <Padding>\n          <Stretch>\n            {isReachingEnd ?\n              <Center>没有更多了</Center> :\n              isLoadingMore ? null :\n                <MainButton onClick={() => loadMore()}>加载更多</MainButton>\n            }\n          </Stretch>\n        </Padding>\n      }\n    </ShopLayout>\n  );\n};\n\nexport const Shop = withRouter(_Shop);\n","import {MainButton} from './button/MainButton';\nimport {MinorButton} from './button/MinorButton';\nimport Icon from './Icon';\nimport React, {MutableRefObject, useCallback, useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport vars from '_vars.scss';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {Link} from 'react-router-dom';\nimport {useCart} from '../hooks/useCart';\nimport {showAlert} from './Dialog';\n\nconst Wrapper = styled.div`\n  position:fixed; bottom: 0; left: 0; width: 100%; padding: 8px 16px;\n  display:flex; justify-content: space-between;\n  background: white; box-shadow: 0 0 3px ${vars.colorShadow};\n  > button:first-child{\n    flex-grow: 1;\n  }\n  > button:nth-child(2){\n    flex-grow: 0;\n  }\n  > * + *{\n    margin-left: 8px;\n  }\n`;\n\ninterface Props {\n  goodId: number | string;\n  shopId: number | string;\n  number?: number;\n  element?: MutableRefObject<HTMLElement | null>;\n}\n\nexport const CartBar: React.FC<Props> = (props) => {\n  const {shopId, goodId} = props;\n  const button = useRef<HTMLButtonElement>(null);\n  const {cart, updateShopCart} = useCart();\n  const [count, setCount] = useState<number | undefined>(0);\n  const isAnimating = useRef(false);\n\n  const addToCart = useCallback(async (\n    from: HTMLElement, to: HTMLElement,\n    callback?: () => void) => {\n    if (isAnimating.current) {return;}\n    const found = cart?.filter(({shop, goods}) => {\n      if (shop.id.toString() === shopId.toString()) {\n        return goods.filter(g => g.id.toString() === goodId.toString())?.length > 0;\n      } else {\n        return false;\n      }\n    });\n    if (found && found.length > 0) {\n      showAlert('已添加到购物车');\n      return;\n    }\n    const {shop, goods} = (await defaultHttpClient.post<Resource<{ shop: Shop, goods: (Good & { number: number })[] }>>(`/shoppingCart`, {\n      goods: [{\n        id: goodId,\n        number: 1\n      }]\n    }, {autoHandlerError: true})).data.data;\n    isAnimating.current = true;\n    const {left, top, width, height} = from.getBoundingClientRect();\n    const clone = from.cloneNode(true) as HTMLElement;\n    Object.assign(clone.style, {\n      left: left + 'px', top: top + 'px', width: width + 'px', height: height + 'px',\n      position: 'fixed', transition: 'transform 1000ms', borderRadius: '50%',\n      transformOrigin: 'center center', zIndex: 1\n    });\n    const {left: left2, top: top2, width: width2, height: height2} = to.getBoundingClientRect();\n    const deltaX = (left2 + width2 / 2) - (left + width / 2);\n    const deltaY = (top2 + height2 / 2) - (top + height / 2);\n    const ratio = Math.min(width2 / width, height2 / height) * 0.5;\n    from.after(clone);\n    clone.getBoundingClientRect();\n    Object.assign(clone.style, {\n      transform: `translate(${deltaX}px, ${deltaY}px) scale(${ratio})`,\n    });\n    const after = () => {\n      callback?.();\n      clone.removeEventListener('transitionend', after);\n      clone.remove();\n      isAnimating.current = false;\n      updateShopCart(shop.id, shop, goods);\n    };\n    clone.addEventListener('transitionend', after);\n  }, [cart, shopId, goodId]);\n\n\n  useEffect(() => {\n    setCount(cart?.reduce((sum, {shop, goods}) => sum + goods.length, 0) || undefined);\n  }, [cart]);\n  const onClick = () => {\n    addToCart(\n      props.element!.current!,\n      button.current!,\n      () => {\n        setCount(x => (x ?? 0) + 1);\n      });\n  };\n  return (\n    <Wrapper>\n      <MainButton onClick={onClick}>加入购物车</MainButton>\n      <Link to=\"/cart\">\n        <MinorButton ref={button} badge={count?.toString()}><Icon name=\"cart\"/></MinorButton>\n      </Link>\n    </Wrapper>\n  );\n};\nCartBar.defaultProps = {\n  number: 1\n};\n\n\n","import React, {useRef} from 'react';\nimport {withRouter, RouteComponentProps, Link} from 'react-router-dom';\nimport Layout from '../components/Layout';\nimport Icon from '../components/Icon';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport {Img} from '../components/Img';\nimport {Loading} from '../components/Loading';\nimport styled from 'styled-components';\nimport {Panel} from '../components/Panel';\nimport {useGood} from '../hooks/useGood';\nimport {Money} from '../components/Money';\nimport vars from '_vars.scss';\nimport {Space} from '../components/Space';\nimport {CartBar} from '../components/CartBar';\n\nconst Cover = styled.div`\n  background:white;\n`;\nconst Price = styled.p`\n  font-size: 18px;\n  color: ${vars.colorDanger};\n`;\n\nconst _Good: React.FC<RouteComponentProps<{ shopId: string, id: string }>> = (props) => {\n  const {shopId, id} = props.match.params;\n  const {good} = useGood(id);\n  const cover = useRef<HTMLDivElement>(null);\n  return (\n    <Layout title={'商品详情'}>\n      {good ?\n        <>\n          <Cover ref={cover}>\n            <ShapedDiv>\n              <Img src={good.imgUrl} alt=\"\"/>\n            </ShapedDiv>\n          </Cover>\n\n\n          <Panel>\n            <h1>{good.name}</h1>\n            <Price><Money>{good.price}</Money></Price>\n          </Panel>\n\n          <Panel>\n            <h2>详情</h2>\n            <p>\n              <strong>{good.description}</strong>\n            </p>\n            <p>\n              {good.details}\n            </p>\n          </Panel>\n\n          <Space/>\n          <Space/>\n          <Space/>\n          <Space/>\n\n        </>\n        :\n        <Loading/>\n      }\n      <CartBar goodId={id} element={cover} shopId={shopId}/>\n    </Layout>\n\n  );\n};\n\nexport const Good = withRouter(_Good);\n","import {Location} from 'history';\n\nexport class HashQuery<T> {\n  query: URLSearchParams;\n\n  constructor(public location: Location) {\n    this.query = new URLSearchParams(location.search);\n  }\n\n  get(name: keyof T) {\n    return this.query.get(name.toString());\n  }\n}\n\n","import styled from 'styled-components';\n\nexport const VSpace = styled.span`\n  display:inline-block;\n  width: 16px;\n`;\n","import React, {useState} from 'react';\nimport Layout from '../components/Layout';\nimport {withRouter, RouteComponentProps, Link} from 'react-router-dom';\nimport {HashQuery} from '../lib/getQuery';\nimport {useCart} from '../hooks/useCart';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\nimport {Loading} from '../components/Loading';\nimport {Panel} from '../components/Panel';\nimport {getAmount} from '../lib/getAmount';\nimport {Money} from '../components/Money';\nimport {F} from '../components/Form';\nimport {Stretch} from '../components/Stretch';\nimport {MainButton} from '../components/button/MainButton';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {history} from '../lib/history';\nimport {VSpace} from '../components/VSpace';\n\nconst _OrderNew: React.FC<RouteComponentProps> = (props) => {\n  const query = new HashQuery<{ shopId: string }>(props.location);\n  const shopId = parseInt(query.get('shopId')!);\n  const {cart, isValidating} = useCart();\n  const [formData, setFormData] = useState({address: '', contact: '', tel: ''});\n  if (isValidating) {\n    return <Loading/>;\n  }\n  if (cart && cart.length > 0) {\n    const shopAndGoods = cart.find(({shop, goods}) => shop.id === shopId);\n    if (!shopAndGoods) {\n      return (\n        <Center>\n          <Space/>\n          商品已被清空，无法创建订单\n          <Space/>\n        </Center>\n      );\n    }\n\n    const {shop, goods} = shopAndGoods;\n    const pay = async () => {\n      const response = await defaultHttpClient.post<Resource<Order>>('/order', {\n        address: `${formData.address}`,\n        goods: goods.map(g => ({id: g.id, number: g.number}))\n      }, {autoHandlerError: true});\n      console.log(response);\n      await Promise.all(goods.map(g =>\n        defaultHttpClient.delete(`/shoppingCart/${g.id}`)\n      ));\n      history.push(`/orders/${response.data.data.id}/pay`);\n    };\n\n    return (\n      <Layout title=\"创建订单\">\n        <Panel>\n          <h1>订单金额</h1>\n          <p>店铺：<Link to={`/shops/${shop.id}`}>{shop.name}</Link></p>\n          <p>金额：<Money>{getAmount(goods)}</Money></p>\n        </Panel>\n\n        <F title=\"收件人\" data={formData} fields={[\n          {key: 'address', input: {type: 'text', placeholder: '收件地址'}},\n          {key: 'contact', input: {type: 'text', placeholder: '联系人'}},\n          {key: 'tel', input: {type: 'text', placeholder: '手机号码'}}\n        ]} onChange={v => setFormData(v)}>\n        </F>\n        <Panel>\n          <Stretch>\n            <MainButton onClick={pay}>去支付</MainButton>\n          </Stretch>\n        </Panel>\n      </Layout>\n    );\n  } else {\n    return (\n      <Center>\n        <Space/>\n        购物车是空的\n        <Space/>\n        <p>\n          <Link to={`/shops/${shopId}`}><MainButton>返回购物</MainButton></Link>\n          <VSpace/>\n          <Link to={`/orders`}><MainButton>查看订单</MainButton></Link>\n        </p>\n        <Space/>\n      </Center>\n    );\n  }\n};\n\nconst OrderNew = withRouter(_OrderNew);\n\nexport {OrderNew};\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport {withRouter, RouteComponentProps} from 'react-router-dom';\nimport {MainButton} from '../components/button/MainButton';\nimport wepay from 'images/wepay.svg';\nimport alipay from 'images/alipay.svg';\nimport {Img} from '../components/Img';\nimport styled from 'styled-components';\nimport {Stretch} from '../components/Stretch';\nimport {showAlert} from '../components/Dialog';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {history} from '../lib/history';\n\nconst Payments = styled.div`\n  margin-top: 32px;\n  img{\n    width: 100px;\n    height: 100px;\n    margin: 0 32px;\n  }\n`;\nconst Wrapper = styled.div`\n  text-align:center;\n  padding: 16px;\n`;\n\nconst pay = () => {\n  showAlert('抱歉，测试环境无法支付，请使用模拟支付');\n};\nexport const _Pay: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const orderId = props.match.params.id;\n  const fakePay = async () => {\n    await defaultHttpClient.patch(`/order/${orderId}`, {status: 'paid'}, {autoHandlerError: true});\n    showAlert('支付成功', () => {\n      history.push('/orders');\n    });\n  };\n  return (\n    <Layout title=\"支付\">\n      <Wrapper>\n        <Stretch>\n          <MainButton onClick={fakePay}>模拟支付</MainButton>\n        </Stretch>\n        <Payments>\n          <Img onClick={pay} src={wepay}/>\n          <Img onClick={pay} src={alipay}/>\n        </Payments>\n      </Wrapper>\n    </Layout>\n  );\n};\n\nexport const Pay = withRouter(_Pay);\n","import swr, {useSWRPages} from 'swr';\nimport {defaultHttpClient} from './HttpClient';\nimport {Stretch} from '../components/Stretch';\nimport {Loading} from '../components/Loading';\nimport React, {ReactNode} from 'react';\n\ninterface OrderItemRender {\n  (order: Order): ReactNode\n}\n\nexport const useOrders = (render: OrderItemRender) => {\n  return useSWRPages<number | null, PagedResources<Order>>(\n    'orders',\n    ({offset, withSWR}) => {\n      offset = offset || 0;\n      const {data: response} = withSWR(swr(['/order', offset + 1, 10], async (url, pageNum, pageSize) => {\n        return (await defaultHttpClient.get<PagedResources<Order>>(url, {\n          params: {pageNum, pageSize}, autoHandlerError: true\n        })).data;\n      }));\n\n      if (!response) return <Stretch><Loading/></Stretch>;\n\n      return response.data.map(order =>\n        render(order)\n      );\n    },\n    (SWR, index) => {\n      return SWR.data?.totalPage && SWR.data?.totalPage > 0 && SWR.data?.pageNum < SWR.data?.totalPage ?\n        index + 1 :\n        null;\n    },\n    []\n  );\n};\n","export const orderStatusMap: { [K in OrderStatus]: string } = {\n  'pending': '未支付',\n  'paid': '已支付',\n  'delivered': '已发货',\n  'received': '已收货'\n};\n","import React from 'react';\nimport {useOrders} from '../lib/useOrders';\nimport Layout from '../components/Layout';\nimport styled from 'styled-components';\nimport {getAmount} from '../lib/getAmount';\nimport {Money} from 'components/Money';\nimport {orderStatusMap} from '../maps/OrderStatus';\nimport vars from '_vars.scss';\nimport Icon from '../components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {history} from '../lib/history';\nimport {Padding} from '../components/Padding';\nimport {Stretch} from '../components/Stretch';\nimport {Nav} from '../components/Nav';\n\nconst Item = styled(Link)`\n  height: ${vars.heightItem}; \n  display:flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n`;\nconst List = styled.div`\n  background:white;\n`;\nconst Status = styled.span`\n  margin-left: auto;\n  margin-right: 16px;\n`;\nexport const Orders: React.FC = () => {\n  const {pages: orders, isEmpty, isReachingEnd, loadMore, isLoadingMore} = useOrders(order => (\n    <Item to={`/orders/${order.id}`}>\n      <Money>{getAmount(order.goods)}</Money>\n      <Status>{orderStatusMap[order.status]}</Status>\n      <Icon name=\"right\"/>\n    </Item>\n  ));\n  return (\n    <Layout title=\"我的订单\" hasBack={false} footer={<Nav/>}>\n      <List>\n        {orders}\n      </List>\n      {isEmpty ?\n        <Center>\n          <Space/>没有订单<Space/>\n        </Center>\n        :\n        <Padding>\n          <Stretch>\n            {isReachingEnd ?\n              <Center>没有更多了</Center> :\n              isLoadingMore ? null :\n                <MainButton onClick={() => loadMore()}>加载更多</MainButton>\n            }\n          </Stretch>\n        </Padding>\n      }\n    </Layout>\n  );\n};\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport {withRouter, RouteComponentProps} from 'react-router-dom';\nimport {F, Form, FormRow} from '../components/Form';\nimport day from 'dayjs';\nimport {orderStatusMap} from '../maps/OrderStatus';\nimport {MainButton} from '../components/button/MainButton';\nimport {Stretch} from '../components/Stretch';\nimport {Space} from '../components/Space';\nimport {defaultHttpClient} from '../lib/HttpClient';\nimport {showAlert} from '../components/Dialog';\n\nconst _AdminOrder: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const orderId = props.match.params.id;\n  // const {data: order, error} = useOrder(orderId);\n  const order: Order = {\n    'id': 3,\n    'totalPrice': 100,\n    'address': '1111',\n    'expressCompany': null,\n    'expressId': null,\n    'status': 'pending',\n    'createdAt': '2020-05-07T13:42:46.000+0000',\n    'shop': {\n      'id': 91,\n      'name': '新的店铺2',\n      'description': '2222',\n      'imgUrl': '',\n      'ownerUserId': 84,\n      'createdAt': '2020-05-07T13:42:38.000+0000',\n      'updatedAt': '2020-05-07T13:42:38.000+0000'\n    },\n    'goods': [{\n      'id': 88,\n      'shopId': 91,\n      'name': '111111111111',\n      'description': '',\n      'imgUrl': '',\n      'price': 100,\n      'stock': 106,\n      'createdAt': '2020-05-07T13:42:46.000+0000',\n      'updatedAt': '2020-05-07T13:42:46.000+0000',\n      'number': 1\n    }]\n  };\n  const updateExpress = async ({expressCompany, expressId}: Order) => {\n    const order = (await defaultHttpClient.patch<Resource<Order>>(\n        `/order/${orderId}`, {expressCompany, expressId}, {autoHandlerError: true})\n    ).data.data;\n    showAlert('更新成功');\n  };\n  return (\n    <Layout title=\"订单与物流\">\n      <F title=\"订单详情\" defaultData={order} fields={[\n        {key: 'id', input: {label: '订单号', readOnly: true}},\n        {key: 'totalPrice', input: {label: '金额', readOnly: true}},\n        {\n          key: 'status', input: {label: '状态', readOnly: true}, transform: {\n            in(string) {return string;},\n            out(status) {return orderStatusMap[status];}\n          }\n        },\n        {\n          key: 'createdAt', input: {label: '创建时间', readOnly: true}, transform: {\n            in(string) {\n              return string;\n            }, out(iso) {\n              return day(iso).format('YYYY年MM月DD日 HH:mm');\n            }\n          }\n        },\n\n      ]}>\n      </F>\n\n      <F title=\"物流信息\" defaultData={order} fields={[\n        {key: 'expressCompany', input: {label: '物流公司'}, rules: [{required: true}]},\n        {key: 'expressId', input: {label: '物流单号'}, rules: [{required: true}]},\n      ]} onSubmit={v => updateExpress(v)}>\n        <Space/>\n        <Stretch>\n          <MainButton type=\"submit\">提交</MainButton>\n        </Stretch>\n      </F>\n    </Layout>\n  );\n};\n\nexport const AdminOrder = withRouter(_AdminOrder);\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport {Panel} from '../components/Panel';\nimport {Link, withRouter, RouteComponentProps} from 'react-router-dom';\nimport {ShapedDiv} from '../components/ShapedDiv';\nimport {Img} from '../components/Img';\nimport {Name} from '../components/Name';\nimport {Money} from '../components/Money';\nimport {getAmount} from '../lib/getAmount';\nimport {MainButton} from '../components/button/MainButton';\nimport {useOrder} from '../hooks/useOrder';\nimport {Loading} from '../components/Loading';\nimport {GoodsList} from '../components/GoodsList';\nimport {OrderItem} from '../components/OrderItem';\nimport styled from 'styled-components';\nimport {orderStatusMap} from '../maps/OrderStatus';\nimport {F} from '../components/Form';\nimport {Space} from '../components/Space';\nimport {Stretch} from '../components/Stretch';\n\nconst Amount = styled.span`\n  flex-grow: 1;\n`;\nconst Footer = styled.footer`\n  .order{\n    flex-grow: 0;\n  }\n`;\nconst _Order: React.FC<RouteComponentProps<{ id: string }>> = (props) => {\n  const orderId = props.match.params.id;\n  // const {data: order, error} = useOrder(orderId);\n  const order: Order = {\n    'id': 3,\n    'totalPrice': 100,\n    'address': '1111',\n    'expressCompany': null,\n    'expressId': null,\n    'status': 'pending',\n    'createdAt': '2020-05-07T13:42:46.000+0000',\n    'shop': {\n      'id': 91,\n      'name': '新的店铺2',\n      'description': '2222',\n      'imgUrl': '',\n      'ownerUserId': 84,\n      'createdAt': '2020-05-07T13:42:38.000+0000',\n      'updatedAt': '2020-05-07T13:42:38.000+0000'\n    },\n    'goods': [{\n      'id': 88,\n      'shopId': 91,\n      'name': '111111111111',\n      'description': '',\n      'imgUrl': '',\n      'price': 100,\n      'stock': 106,\n      'createdAt': '2020-05-07T13:42:46.000+0000',\n      'updatedAt': '2020-05-07T13:42:46.000+0000',\n      'number': 1\n    }]\n  };\n  if (!order) {return <Loading/>;}\n  const {shop, goods} = order;\n  return (\n    <Layout title=\"订单详情\">\n      <Panel>\n        <h2><Link to={`/shops/${shop.id}`}>{shop.name}</Link></h2>\n        <GoodsList>\n          {goods.map(g => <OrderItem key={g.id}>\n            <div className=\"cover\">\n              <ShapedDiv>\n                <Img src={g.imgUrl}/>\n              </ShapedDiv>\n            </div>\n            <div className=\"text\">\n              <Name>{g.name}</Name>\n              <p><Money className=\"money\">{g.price}</Money></p>\n            </div>\n          </OrderItem>)}\n        </GoodsList>\n        <Footer>\n          <Amount>\n            总计：<Money>{getAmount(goods)}</Money>\n          </Amount>\n          {order.status === 'pending' ?\n            <Link to={`/orders/${orderId}/pay`}><MainButton className=\"order\">去支付</MainButton></Link>\n            :\n            <span>{orderStatusMap[order.status]}</span>\n          }\n        </Footer>\n      </Panel>\n\n      <F title=\"收件人\" defaultData={order} fields={[\n        {key: 'address', input: {type: 'text', label: '收件地址', readOnly: true}},\n      ]}>\n      </F>\n\n      <F title=\"物流信息\" defaultData={order} fields={[\n        {key: 'expressCompany', input: {label: '物流公司', readOnly: true, placeholder: '空'}},\n        {key: 'expressId', input: {label: '物流单号', readOnly: true, placeholder: '空'}},\n      ]}>\n      </F>\n    </Layout>\n  );\n};\n\nexport const Order = withRouter(_Order);\n","import React from 'react';\nimport {useOrders} from '../lib/useOrders';\nimport Layout from '../components/Layout';\nimport styled from 'styled-components';\nimport {getAmount} from '../lib/getAmount';\nimport {Money} from 'components/Money';\nimport {orderStatusMap} from '../maps/OrderStatus';\nimport vars from '_vars.scss';\nimport Icon from '../components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\nimport {MainButton} from '../components/button/MainButton';\nimport {history} from '../lib/history';\nimport {Padding} from '../components/Padding';\nimport {Stretch} from '../components/Stretch';\nimport { AdminNav } from 'components/AdminNav';\n\nconst Item = styled(Link)`\n  height: ${vars.heightItem}; \n  display:flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n`;\nconst List = styled.div`\n  background:white;\n`;\nconst Status = styled.span`\n  margin-left: auto;\n  margin-right: 16px;\n`;\nexport const AdminOrders: React.FC = () => {\n  const {pages: orders, isEmpty, isReachingEnd, loadMore, isLoadingMore} = useOrders(order => (\n    <Item to={`/admin/orders/${order.id}`}>\n      <Money>{getAmount(order.goods)}</Money>\n      <Status>{orderStatusMap[order.status]}</Status>\n      <Icon name=\"right\"/>\n    </Item>\n  ));\n  return (\n    <Layout title=\"我的订单\" hasBack={false} footer={<AdminNav/>}>\n      <List>\n        {orders}\n      </List>\n      {isEmpty ?\n        <Center>\n          <Space/>没有订单<Space/>\n        </Center>\n        :\n        <Padding>\n          <Stretch>\n            {isReachingEnd ?\n              <Center>没有更多了</Center> :\n              isLoadingMore ? null :\n                <MainButton onClick={() => loadMore()}>加载更多</MainButton>\n            }\n          </Stretch>\n        </Padding>\n      }\n    </Layout>\n  );\n};\n","import React from 'react';\nimport {Router, Switch, Route, Redirect} from 'react-router-dom';\nimport {Shops} from './views/Shops';\nimport {history} from 'lib/history';\nimport {SignIn} from './views/SignIn';\nimport {ShopNew} from './views/ShopNew';\nimport {AdminShop} from './views/AdminShop';\nimport {AdminShopEdit} from './views/AdminShopEdit';\nimport {GoodNew} from './views/GoodNew';\nimport {AdminGood} from './views/AdminGood';\nimport {GoodEdit} from './views/GoodEdit';\nimport {Cart} from './views/Cart';\nimport {Me} from './views/Me';\nimport {SWRConfig} from 'swr';\nimport {Shop} from 'views/Shop';\nimport {Good} from 'views/Good';\nimport {OrderNew} from 'views/OrderNew';\nimport {Pay} from './views/Pay';\nimport {Orders} from './views/Orders';\n\nimport {AdminOrder} from './views/AdminOrder';\nimport styled from 'styled-components';\nimport {Order} from './views/Order';\nimport {AdminOrders} from './views/AdminOrders';\n\nconst Wrapper = styled.div`\n  max-width: 500px;\n  margin: 0 auto;\n`;\n\nfunction App() {\n  return (\n    <Wrapper>\n      <SWRConfig value={{shouldRetryOnError: false}}>\n        <Router history={history}>\n          <Switch>\n            <Route exact path=\"/admin/shops\">\n              <Shops/>\n            </Route>\n            <Route exact path=\"/admin/shops/new\">\n              <ShopNew/>\n            </Route>\n            <Route exact path=\"/admin/shops/:id\">\n              <AdminShop/>\n            </Route>\n            <Route exact path=\"/admin/shops/:id/edit\">\n              <AdminShopEdit/>\n            </Route>\n            <Route exact path=\"/admin/shops/:shopId/goods/new\">\n              <GoodNew/>\n            </Route>\n            <Route exact path=\"/admin/shops/:shopId/goods/:id\">\n              <AdminGood/>\n            </Route>\n            <Route exact path=\"/admin/shops/:shopId/goods/:id/edit\">\n              <GoodEdit/>\n            </Route>\n            <Route exact path=\"/admin/orders\">\n              <AdminOrders/>\n            </Route>\n            <Route exact path=\"/admin/orders/:id\">\n              <AdminOrder/>\n            </Route>\n            <Route exact path=\"/orders\">\n              <Orders/>\n            </Route>\n            <Route exact path=\"/orders/new\">\n              <OrderNew/>\n            </Route>\n            <Route exact path=\"/orders/:id/pay\">\n              <Pay/>\n            </Route>\n            <Route exact path=\"/shops/:shopId/goods/:id\">\n              <Good/>\n            </Route>\n            <Route exact path=\"/shops/:id\">\n              <Shop/>\n            </Route>\n            <Route exact path=\"/orders/:id\">\n              <Order/>\n            </Route>\n            <Route exact path=\"/sign_in\">\n              <SignIn/>\n            </Route>\n            <Route exact path=\"/cart\">\n              <Cart/>\n            </Route>\n            <Route exact path=\"/me\">\n              <Me/>\n            </Route>\n            <Redirect exact from=\"/\" to=\"/admin/shops\"/>\n            <Route path=\"*\">\n            </Route>\n          </Switch>\n        </Router>\n      </SWRConfig>\n    </Wrapper>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss';\nimport 'initializers/index';\nimport {mutate, cache} from 'swr';\n\n(window as any).swrMutate = mutate;\n(window as any).swrCache = cache;\n\nReactDOM.render(<App/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}